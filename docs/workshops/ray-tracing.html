<!DOCTYPE html><html><head><title>vc | Ray Tracing</title><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0"><meta name="robots" content="index,follow"><meta name="theme-color" content="#212121"><meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"><link href="https://fonts.googleapis.com/css?family=Hind:400,700&amp;display=swap" rel="stylesheet"><link href="https://fonts.googleapis.com/css?family=Source+Code+Pro:300,400&amp;display=swap" rel="stylesheet"><link href="https://fonts.googleapis.com/icon?family=Material+Icons%7CMaterial+Icons+Outlined&amp;display=swap" rel="stylesheet"><style>
      body, input, button {
        font-family: 'Hind', sans-serif;
      }

      code, .hljs {
        font-family: 'Source Code Pro', 'Courier New', Courier, monospace;
      }

      .icon-font {
        font-family: 'Material Icons';
        font-weight: normal;
        font-style: normal;
        font-size: 24px;  /* Preferred icon size */
        display: inline-block;
        line-height: 1;
        text-transform: none;
        letter-spacing: normal;
        word-wrap: normal;
        white-space: nowrap;
        direction: ltr;
      
        /* Support for all WebKit browsers. */
        -webkit-font-smoothing: antialiased;
        /* Support for Safari and Chrome. */
        text-rendering: optimizeLegibility;
      
        /* Support for Firefox. */
        -moz-osx-font-smoothing: grayscale;
      
        /* Support for IE. */
        font-feature-settings: 'liga';
      }

      .icon-font.outline {
        font-family: 'Material Icons Outlined';
      }
    </style><link href="/vc/docs/assets/codedoc-styles.css" rel="stylesheet"><script async="" defer="" src="/vc/docs/assets/codedoc-bundle.js"></script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/katex.min.css" integrity="sha384-zB1R0rpPzHqg7Kpt0Aljp8JPLqbXI3bhnPWROx27a9N0Ll6ZP/+DiW/UqRcLbRjq" crossorigin="anonymous"></head><body><div class="header-0-0-11"><script async="" defer="" src="https://buttons.github.io/buttons.js"></script><a class="github-button" data-color-scheme="no-preference: light; light: light; dark: dark;" data-icon="octicon-star" data-show-count="false" data-size="large" href="https://github.com/visualcomputing/vc/">Star</a><br><br><a class="watermark-0-0-10" href="https://github.com/CONNECT-platform/codedoc" target="_blank">Created With<svg viewBox="0 0 536 296" version="1.1" xmlns="http://www.w3.org/2000/svg"><g id="codedoc" transform="translate(-244.000000, -364.000000)" fill-rule="nonzero"><path d="M580,532 C615.346224,532 644,560.653776 644,596 C644,631.346224 615.346224,660 580,660 C544.653776,660 516,631.346224 516,596 C516,560.653776 544.653776,532 580,532 Z M716,532 C751.346224,532 780,560.653776 780,596 C780,631.346224 751.346224,660 716,660 L692,660 C687.581722,660 684,656.418278 684,652 C684,647.581722 687.581722,644 692,644 L716,644 C742.509668,644 764,622.509668 764,596 C764,569.490332 742.509668,548 716,548 L692,548 C687.581722,548 684,544.418278 684,540 C684,535.581722 687.581722,532 692,532 L716,532 Z M468,532 C472.418278,532 476,535.581722 476,540 L476,652 C476,656.418278 472.418278,660 468,660 L444,660 C408.653776,660 380,631.346224 380,596 C380,560.653776 408.653776,532 444,532 L468,532 Z M332,532 C336.418278,532 340,535.581722 340,540 L340,652 C340,656.418278 336.418278,660 332,660 L252,660 C247.581722,660 244,656.418278 244,652 L244,540 C244,535.581722 247.581722,532 252,532 L332,532 Z M580,548 C553.490332,548 532,569.490332 532,596 C532,622.509668 553.490332,644 580,644 C606.509668,644 628,622.509668 628,596 C628,569.490332 606.509668,548 580,548 Z M461,548 L444,548 C417.490332,548 396,569.490332 396,596 C396,622.509668 417.490332,644 444,644 L461,644 L461,548 Z M444,364 C479.346224,364 508,392.653776 508,428 C508,463.346224 479.346224,492 444,492 C408.653776,492 380,463.346224 380,428 C380,392.653776 408.653776,364 444,364 Z M332,364 C336.418278,364 340,367.581722 340,372 C340,376.418278 336.418278,380 332,380 L308,380 C281.490332,380 260,401.490332 260,428 C260,454.509668 281.490332,476 308,476 L332,476 C336.418278,476 340,479.581722 340,484 C340,488.418278 336.418278,492 332,492 L308,492 C272.653776,492 244,463.346224 244,428 C244,392.653776 272.653776,364 308,364 L332,364 Z M580,364 C615.346224,364 644,392.653776 644,428 C644,463.346224 615.346224,492 580,492 L556,492 C551.581722,492 548,488.418278 548,484 L548,372 C548,367.581722 551.581722,364 556,364 L580,364 Z M772,364 C776.418278,364 780,367.581722 780,372 C780,376.418278 776.418278,380 772,380 L700,380 L700,420 L772,420 C776.418278,420 780,423.581722 780,428 C780,432.418278 776.418278,436 772,436 L700,436 L700,476 L772,476 C776.418278,476 780,479.581722 780,484 C780,488.418278 776.418278,492 772,492 L692,492 C687.581722,492 684,488.418278 684,484 L684,372 C684,367.581722 687.581722,364 692,364 L772,364 Z M444,380 C417.490332,380 396,401.490332 396,428 C396,454.509668 417.490332,476 444,476 C470.509668,476 492,454.509668 492,428 C492,401.490332 470.509668,380 444,380 Z M580,380 L563,380 L563,476 L580,476 C606.509668,476 628,454.509668 628,428 C628,401.490332 606.509668,380 580,380 Z"></path></g></svg></a></div><div id="-codedoc-container" class="container"><h1 id="ray-tracing" class="heading-0-0-1"><span class="anchor-0-0-2" data-ignore-text=""><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span>Ray Tracing</h1><h2 id="i-introducción" class="heading-0-0-1"><span class="anchor-0-0-2" data-ignore-text=""><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span>I. INTRODUCCIÓN</h2><p>El ray tracing es una técnica de renderizado para generar un imagen a través del  rastreo de un camino de luz como píxeles en un plano de imagen y simulando los efectos de sus encuentros con objetos virtuales, esta técnica es capaz de producir un alto grado de realismo visual, mayor que los métodos de renderización de línea de exploración, pero a cambio de un gran costo computacional. Por esta razón el raytracing generalmente se ha utilizado para aplicaciones donde se puede tomar mucho tiempo para renderizar, como por ejemplo imágenes generadas por computadora, efectos visuales (VFX) de peliculas y television, pero se suele utilizar muy poco en aplicaciones de ejecución en tiempo real como pueden ser  los videojuegos, donde la velocidad de renderización de cada frame es importante.</p><marker><div style="text-align:center">
<img src="https://upload.wikimedia.org/wikipedia/commons/3/32/Recursive_raytrace_of_a_sphere.png" alt="Markdown Monster icon" style="width: 300px;margin-bottom: 20px">
</div>
Vale la pena mencionar que en los últimos años, la aceleración por hardware para en tiempo real para el raytracing se ha convertido en un estándar en las nuevas tarjetas gráficas, algo que también ha pasado en los apis de gráficos, lo que le ha permitido a los desarrolladores agregar técnicas ray tracing en tiempo real  los videojuegos y otros medios de renderizado con un impacto menor en el tiempo que consumen, aunque aún sigue siendo un tiempo considerable en la generación del frame.
<div style="text-align:center">
<img src="https://i.ytimg.com/vi/AdTxrggo8e8/maxresdefault.jpg" alt="Markdown Monster icon" style="width: 800px;margin-bottom: 20px">
</div>

</marker><h2 id="ii-historia" class="heading-0-0-1"><span class="anchor-0-0-2" data-ignore-text=""><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span>II. HISTORIA</h2><p>La idea del Ray Tracing se remonta al siglo XVI cuando fue descrito por Alberto Durero, a quien se le atribuye su invención. En “Four Books on Measurement”, describió un aparato llamado puerta de Durero que usa un hilo sujeto al extremo de un lápiz que un asistente mueve a lo largo de los contornos del objeto a dibujar. El hilo pasa a través del marco de la puerta y luego a través de un gancho en la pared. El hilo forma un rayo y el gancho actúa como el centro de proyección y corresponde a la posición de la cámara en el trazado de rayos.  </p><marker><div style="text-align:center">
<img src="https://upload.wikimedia.org/wikipedia/commons/1/1a/D%C3%BCrer_-_Man_Drawing_a_Lute.jpg" alt="Markdown Monster icon" style="width: 500px;margin-bottom: 1s0px">
</div>

</marker><p>Los primeros sistemas de  Ray Tracing estaban basados en lotes (tarjetas perforadas de computadora o cinta) que se ejecutaban en computadoras relativamente lentas con memoria central. Ahora, las GPU (unidades de procesamiento de gráficos) admiten el trazado de rayos para un mayor realismo en los juegos de computadora en 3D de ritmo rápido.</p><p>Goldstein y Nagel de MAGI (Mathematics Applications Group, Inc.) intentaron por primera vez usar una computadora para el trazado de rayos para generar imágenes sombreadas. En el artículo de Goldsein y Nagel, “Simulación visual 3-D”, el trazado de rayos se usa para hacer imágenes sombreadas de sólidos simulando el proceso fotográfico al revés.. Ampliando aún más este método, MAGI desarrolló un sistema CAD / CAM comercial llamado SynthaVision que creaba imágenes sombreadas y dibujos de líneas, calculaba las propiedades de masa y verificaba la no interferencia en las operaciones de mecanizado N / C. Desafortunadamente, debido a la potencia de procesamiento de la computadora en ese momento, era un sistema por lotes costoso. MAGI produjo un video de animación llamado MAGI / SynthaVision Sampler en 1974. </p><p>En 1976, Scott Roth creó una animación de libro animado en el curso de gráficos por computadora de Bob Sproull en Caltech utilizando el trazado de rayos con un modelo simple de cámara estenopeica. Las páginas escaneadas se muestran como un video a la derecha. El programa de computadora de Roth notó un punto de borde en la ubicación de un píxel si el rayo se cruzaba con un plano delimitado diferente al de sus vecinos. Por supuesto, un rayo podría intersecar varios planos en el espacio, pero solo se observó cómo visible el punto de la superficie más cercano a la cámara. Roth acuñó el término ""ray casting" antes de escuchar "ray tracing", sin embargo, ambos términos describen el mismo concepto. Para cada píxel de la imagen, se proyecta un rayo en la escena, se identifica la superficie visible, se calcula la superficie normal en el punto visible y se calcula la intensidad de la luz visible. Para modelar sombras, transparencias y especularidad general (por ejemplo, espejos) , se proyectan rayos adicionales.</p><iframe id="gif" class="p5-0-0-17 center" style="width: 660px; height: 490px" srcdoc="
        <!DOCTYPE html>
        <html>
          <head>
            <script src=https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.0/p5.min.js></script>
            <script src=/vc/docs/sketches/ray-tracing/gif.js></script>
          </head>
          <body>
          </body>
        </html>
      "></iframe><h2 id="iii-descripción-detallada-del-algoritmo-del-ray-tracing" class="heading-0-0-1"><span class="anchor-0-0-2" data-ignore-text=""><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span>III. DESCRIPCIÓN DETALLADA DEL ALGORITMO DEL RAY TRACING</h2><h3 id="versión-simplificada-de-lo-que-pasa-en-la-naturaleza" class="heading-0-0-1"><span class="anchor-0-0-2" data-ignore-text=""><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span>Versión simplificada de lo que pasa en la naturaleza</h3><p>En la naturaleza, la luz emite un rayo de luz el cual viaja eventualmente a una superficie que interrumpe su progreso. Uno puede pensar en ese rayo como un flujo de protones viajando a lo largo del mismo camino. En un vacío perfecto este rayo sería una línea recta, a este rayo le pueden suceder cuatro cosas: absorción, reflexión, refracción y fluorescencia. Una superficie puede absorber parte del rayo de luz, resultando en una pérdida de intensidad de la luz reflejada o refractada. Este puede también reflejar toda o parte del rayo de luz, en una o más direcciones. Si la superficie tiene transparente o translúcida, puede refractarse una porción de luz en sí mismo en una dirección diferente mientras absorbe una parte (o toda) del espectro,provocando probablemente una alteración en el color.</p><p>Algo menos común es cuando una superficie puede absorber alguna porción de la luz y volver a emitir la luz de forma fluorescente en un color de longitud de onda más larga en una dirección aleatoria, aunque esto es lo suficientemente raro como para que se puede descartar de la mayoría de las aplicaciones de rendering. Entre la absorción, la reflexión, la refracción y la fluorescencia, toda la luz entrante se tiene que tener en cuenta, y no más. Es decir por ejemplo en una superficie no se puede por ejemplo reflejar el 70% de una luz entrante, y reflejar el 60% porque el total estaría en 130%. A partir de ahí los rayos reflejados y/o refractados pueden continuar incidiendo en otras superficies, donde sus propiedades, refractivas, absorbentes y fluorescentes pueden afectar nuevamente el progreso de los rayos entrantes. Algunos de estos rayos viajan y terminan impactando en nuestros ojos, haciéndonos ver la escena y también contribuyendo a la imagen final renderizada.</p><h3 id="algoritmo-de-ray-casting" class="heading-0-0-1"><span class="anchor-0-0-2" data-ignore-text=""><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span>Algoritmo de ray casting</h3><p>La idea detrás del ray casting, el predecesor del ray tracing recursivo, es trazar rayos desde el ojo, uno por pixel, y encontrar el objeto más cercano bloqueando el camino de ese rayo, se puede pensar en la imagen como una puerta de pantalla, en la que cada cuadro de la pantalla es un pixel. Este es el objeto que el ojo ve a través de ese pixel. Usando propiedades de los materiales y el efecto de las luces de la escena, este algoritmo puede determinar el sombreado de este objeto. Se hacen varias suposiciones, una de ellas es que si una superficie se enfrenta a una luz, la luz llegará a esta superficie y no quedará bloqueada ni en sombra. </p><marker><div style="text-align:center">
<img src="https://upload.wikimedia.org/wikipedia/commons/c/c8/Idealized_universal_joint_generated_by_ray_tracing.jpg" alt="Markdown Monster icon" style="width: 400px;margin-bottom: 20px">
</div>

</marker><h3 id="algoritmo-de-ray-tracing-recursivo" class="heading-0-0-1"><span class="anchor-0-0-2" data-ignore-text=""><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span>Algoritmo de ray tracing recursivo</h3><p>Los primeros algoritmos trazaban rayos desde el a través de la escena hasta que ellos golpeaban un objeto, pero determinaban el color del rayo sin trazar recursivamente más rayos. El raytracing recursivo continúa el proceso. Cuando un rayo golpea una superficie, rayos adicionales pueden ser emitidos a causa de la reflexión, refracción, y la sombra. </p><ul><li><p>Un rayo de reflexión es trazado a través de la dirección de reflejo del espejo. El objeto más cercano que intersecta es el que se verá en el reflejo.</p></li><li><p>Un rayo de sombra se traza hacia cada luz. Si se encuentra algún objeto opaco entre la superficie y la luz, la superficie está en sombra y la luz no la ilumina.</p></li><li><p>Un rayo refractado viaja a través de un material transparente funciona de manera similar a la reflexión, con la diferencia de que el rayo refractado puede entrar o salir del material.</p><marker><div style="text-align:center">
<img src="https://upload.wikimedia.org/wikipedia/commons/thumb/e/ec/Glasses_800_edit.png/1600px-Glasses_800_edit.png" alt="Markdown Monster icon" style="width: 600px;margin-bottom: 20px">
</div>

</marker></li></ul><h2 id="iv-matemática-aplicada" class="heading-0-0-1"><span class="anchor-0-0-2" data-ignore-text=""><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span>IV. MATEMÁTICA APLICADA</h2><p>El trazado de rayos ópticos (Ray tracing) describe un método para producir imágenes visuales construidas en entornos de gráficos por computadora en 3D, con más fotorrealismo que las técnicas de proyección de rayos o de reproducción de líneas de exploración. Funciona trazando un camino desde un ojo imaginario a través de cada píxel en una pantalla virtual y calculando el color del objeto visible a través de él.</p><p>Las escenas en el trazado de rayos son descritas matemáticamente por un programador o por un artista visual (normalmente utilizando herramientas intermedias). Las escenas también pueden incorporar datos de imágenes y modelos capturados por medios como la fotografía digital.</p><p>Por lo general, cada rayo debe probarse para la intersección con algún subconjunto de todos los objetos de la escena. Una vez que se ha identificado el objeto más cercano, el algoritmo estimará la luz entrante en el punto de intersección, examinará las propiedades del material del objeto y combinará esta información para calcular el color final del píxel. Ciertos algoritmos de iluminación y materiales reflectantes o translúcidos pueden requerir que se vuelvan a proyectar más rayos en la escena. Al principio puede parecer contradictorio o "hacia atrás" enviar rayos lejos de la cámara, en lugar de dentro de ella (como lo hace la luz real en la realidad), pero hacerlo es mucho más eficiente en muchos órdenes de magnitud. Dado que la inmensa mayoría de los rayos de luz de una fuente de luz determinada no llegan directamente al ojo del espectador, una simulación "hacia adelante" podría desperdiciar una enorme cantidad de cálculos en trayectorias de luz que nunca se registran.</p><p>Por lo tanto, el atajo tomado en el trazado de rayos es presuponer que un rayo dado interseca el marco de la vista. Después de un número máximo de reflejos o de que un rayo viaje una cierta distancia sin intersección, el rayo deja de viajar y se actualiza el valor del píxel.</p><marker><div style="text-align:center">
 <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/8/83/Ray_trace_diagram.svg/300px-Ray_trace_diagram.svg.png" alt="Markdown Monster icon" style="width: 400px;margin-bottom: 20px">
</div>

</marker><h3 id="calcular-rayos-para-un-viewport-rectangular" class="heading-0-0-1"><span class="anchor-0-0-2" data-ignore-text=""><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span>Calcular rayos para un viewport rectangular:</h3><p>Como inputs para este cálculo se tienen:</p><div class="formula-0-0-19  "><div data-formula="E\in \mathbb{R}^{3} \quad posición \ ojo" class="line-0-0-20"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi><mo>∈</mo><msup><mi mathvariant="double-struck">R</mi><mn>3</mn></msup><mspace width="1em"></mspace><mi>p</mi><mi>o</mi><mi>s</mi><mi>i</mi><mi>c</mi><mi>i</mi><mover accent="true"><mi>o</mi><mo>ˊ</mo></mover><mi>n</mi><mtext>&nbsp;</mtext><mi>o</mi><mi>j</mi><mi>o</mi></mrow><annotation encoding="application/x-tex">E\in \mathbb{R}^{3} \quad posición \ ojo</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.72243em;vertical-align:-0.0391em;"></span><span class="mord mathdefault" style="margin-right:0.05764em;">E</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.008548em;vertical-align:-0.19444em;"></span><span class="mord"><span class="mord"><span class="mord mathbb">R</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">3</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:1em;"></span><span class="mord mathdefault">p</span><span class="mord mathdefault">o</span><span class="mord mathdefault">s</span><span class="mord mathdefault">i</span><span class="mord mathdefault">c</span><span class="mord mathdefault">i</span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.69444em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathdefault">o</span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.19444em;"><span class="mord">ˊ</span></span></span></span></span></span></span><span class="mord mathdefault">n</span><span class="mspace">&nbsp;</span><span class="mord mathdefault">o</span><span class="mord mathdefault" style="margin-right:0.05724em;">j</span><span class="mord mathdefault">o</span></span></span></span><span class="counter">1</span></div><div data-formula="T\in \mathbb{R}^{3} \quad posición \ objetivo" class="line-0-0-20"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>T</mi><mo>∈</mo><msup><mi mathvariant="double-struck">R</mi><mn>3</mn></msup><mspace width="1em"></mspace><mi>p</mi><mi>o</mi><mi>s</mi><mi>i</mi><mi>c</mi><mi>i</mi><mover accent="true"><mi>o</mi><mo>ˊ</mo></mover><mi>n</mi><mtext>&nbsp;</mtext><mi>o</mi><mi>b</mi><mi>j</mi><mi>e</mi><mi>t</mi><mi>i</mi><mi>v</mi><mi>o</mi></mrow><annotation encoding="application/x-tex">T\in \mathbb{R}^{3} \quad posición \ objetivo</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.72243em;vertical-align:-0.0391em;"></span><span class="mord mathdefault" style="margin-right:0.13889em;">T</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.008548em;vertical-align:-0.19444em;"></span><span class="mord"><span class="mord"><span class="mord mathbb">R</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">3</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:1em;"></span><span class="mord mathdefault">p</span><span class="mord mathdefault">o</span><span class="mord mathdefault">s</span><span class="mord mathdefault">i</span><span class="mord mathdefault">c</span><span class="mord mathdefault">i</span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.69444em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathdefault">o</span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.19444em;"><span class="mord">ˊ</span></span></span></span></span></span></span><span class="mord mathdefault">n</span><span class="mspace">&nbsp;</span><span class="mord mathdefault">o</span><span class="mord mathdefault">b</span><span class="mord mathdefault" style="margin-right:0.05724em;">j</span><span class="mord mathdefault">e</span><span class="mord mathdefault">t</span><span class="mord mathdefault">i</span><span class="mord mathdefault" style="margin-right:0.03588em;">v</span><span class="mord mathdefault">o</span></span></span></span><span class="counter">2</span></div><div data-formula="\Theta \in [0,\pi ] \quad Campo \ de \ vision \ de \ los \ humanos, \ se  \ asume \approx \pi / 2 rad = 90^{\circ}" class="line-0-0-20"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">Θ</mi><mo>∈</mo><mo stretchy="false">[</mo><mn>0</mn><mo separator="true">,</mo><mi>π</mi><mo stretchy="false">]</mo><mspace width="1em"></mspace><mi>C</mi><mi>a</mi><mi>m</mi><mi>p</mi><mi>o</mi><mtext>&nbsp;</mtext><mi>d</mi><mi>e</mi><mtext>&nbsp;</mtext><mi>v</mi><mi>i</mi><mi>s</mi><mi>i</mi><mi>o</mi><mi>n</mi><mtext>&nbsp;</mtext><mi>d</mi><mi>e</mi><mtext>&nbsp;</mtext><mi>l</mi><mi>o</mi><mi>s</mi><mtext>&nbsp;</mtext><mi>h</mi><mi>u</mi><mi>m</mi><mi>a</mi><mi>n</mi><mi>o</mi><mi>s</mi><mo separator="true">,</mo><mtext>&nbsp;</mtext><mi>s</mi><mi>e</mi><mtext>&nbsp;</mtext><mi>a</mi><mi>s</mi><mi>u</mi><mi>m</mi><mi>e</mi><mo>≈</mo><mi>π</mi><mi mathvariant="normal">/</mi><mn>2</mn><mi>r</mi><mi>a</mi><mi>d</mi><mo>=</mo><mn>9</mn><msup><mn>0</mn><mo lspace="0em" rspace="0em">∘</mo></msup></mrow><annotation encoding="application/x-tex">\Theta \in [0,\pi ] \quad Campo \ de \ vision \ de \ los \ humanos, \ se  \ asume \approx \pi / 2 rad = 90^{\circ}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.72243em;vertical-align:-0.0391em;"></span><span class="mord">Θ</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">π</span><span class="mclose">]</span><span class="mspace" style="margin-right:1em;"></span><span class="mord mathdefault" style="margin-right:0.07153em;">C</span><span class="mord mathdefault">a</span><span class="mord mathdefault">m</span><span class="mord mathdefault">p</span><span class="mord mathdefault">o</span><span class="mspace">&nbsp;</span><span class="mord mathdefault">d</span><span class="mord mathdefault">e</span><span class="mspace">&nbsp;</span><span class="mord mathdefault" style="margin-right:0.03588em;">v</span><span class="mord mathdefault">i</span><span class="mord mathdefault">s</span><span class="mord mathdefault">i</span><span class="mord mathdefault">o</span><span class="mord mathdefault">n</span><span class="mspace">&nbsp;</span><span class="mord mathdefault">d</span><span class="mord mathdefault">e</span><span class="mspace">&nbsp;</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault">o</span><span class="mord mathdefault">s</span><span class="mspace">&nbsp;</span><span class="mord mathdefault">h</span><span class="mord mathdefault">u</span><span class="mord mathdefault">m</span><span class="mord mathdefault">a</span><span class="mord mathdefault">n</span><span class="mord mathdefault">o</span><span class="mord mathdefault">s</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mspace">&nbsp;</span><span class="mord mathdefault">s</span><span class="mord mathdefault">e</span><span class="mspace">&nbsp;</span><span class="mord mathdefault">a</span><span class="mord mathdefault">s</span><span class="mord mathdefault">u</span><span class="mord mathdefault">m</span><span class="mord mathdefault">e</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≈</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">π</span><span class="mord">/</span><span class="mord">2</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mord mathdefault">a</span><span class="mord mathdefault">d</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.674115em;vertical-align:0em;"></span><span class="mord">9</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.674115em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">∘</span></span></span></span></span></span></span></span></span></span></span></span><span class="counter">3</span></div><div data-formula="m, k \in \mathbb{N} \quad número \ de \ píxeles \ cuadrados \ en \ la \ dirección \ de \ la \ ventana" class="line-0-0-20"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>m</mi><mo separator="true">,</mo><mi>k</mi><mo>∈</mo><mi mathvariant="double-struck">N</mi><mspace width="1em"></mspace><mi>n</mi><mover accent="true"><mi>u</mi><mo>ˊ</mo></mover><mi>m</mi><mi>e</mi><mi>r</mi><mi>o</mi><mtext>&nbsp;</mtext><mi>d</mi><mi>e</mi><mtext>&nbsp;</mtext><mi>p</mi><mover accent="true"><mi>ı</mi><mo>ˊ</mo></mover><mi>x</mi><mi>e</mi><mi>l</mi><mi>e</mi><mi>s</mi><mtext>&nbsp;</mtext><mi>c</mi><mi>u</mi><mi>a</mi><mi>d</mi><mi>r</mi><mi>a</mi><mi>d</mi><mi>o</mi><mi>s</mi><mtext>&nbsp;</mtext><mi>e</mi><mi>n</mi><mtext>&nbsp;</mtext><mi>l</mi><mi>a</mi><mtext>&nbsp;</mtext><mi>d</mi><mi>i</mi><mi>r</mi><mi>e</mi><mi>c</mi><mi>c</mi><mi>i</mi><mover accent="true"><mi>o</mi><mo>ˊ</mo></mover><mi>n</mi><mtext>&nbsp;</mtext><mi>d</mi><mi>e</mi><mtext>&nbsp;</mtext><mi>l</mi><mi>a</mi><mtext>&nbsp;</mtext><mi>v</mi><mi>e</mi><mi>n</mi><mi>t</mi><mi>a</mi><mi>n</mi><mi>a</mi></mrow><annotation encoding="application/x-tex">m, k \in \mathbb{N} \quad número \ de \ píxeles \ cuadrados \ en \ la \ dirección \ de \ la \ ventana</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathdefault">m</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.03148em;">k</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord"><span class="mord mathbb">N</span></span><span class="mspace" style="margin-right:1em;"></span><span class="mord mathdefault">n</span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.69444em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathdefault">u</span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.22222em;"><span class="mord">ˊ</span></span></span></span></span></span></span><span class="mord mathdefault">m</span><span class="mord mathdefault">e</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mord mathdefault">o</span><span class="mspace">&nbsp;</span><span class="mord mathdefault">d</span><span class="mord mathdefault">e</span><span class="mspace">&nbsp;</span><span class="mord mathdefault">p</span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.69444em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathit latin_fallback">ı</span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.22222em;"><span class="mord">ˊ</span></span></span></span></span></span></span><span class="mord mathdefault">x</span><span class="mord mathdefault">e</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault">e</span><span class="mord mathdefault">s</span><span class="mspace">&nbsp;</span><span class="mord mathdefault">c</span><span class="mord mathdefault">u</span><span class="mord mathdefault">a</span><span class="mord mathdefault">d</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mord mathdefault">a</span><span class="mord mathdefault">d</span><span class="mord mathdefault">o</span><span class="mord mathdefault">s</span><span class="mspace">&nbsp;</span><span class="mord mathdefault">e</span><span class="mord mathdefault">n</span><span class="mspace">&nbsp;</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault">a</span><span class="mspace">&nbsp;</span><span class="mord mathdefault">d</span><span class="mord mathdefault">i</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mord mathdefault">e</span><span class="mord mathdefault">c</span><span class="mord mathdefault">c</span><span class="mord mathdefault">i</span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.69444em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathdefault">o</span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.19444em;"><span class="mord">ˊ</span></span></span></span></span></span></span><span class="mord mathdefault">n</span><span class="mspace">&nbsp;</span><span class="mord mathdefault">d</span><span class="mord mathdefault">e</span><span class="mspace">&nbsp;</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault">a</span><span class="mspace">&nbsp;</span><span class="mord mathdefault" style="margin-right:0.03588em;">v</span><span class="mord mathdefault">e</span><span class="mord mathdefault">n</span><span class="mord mathdefault">t</span><span class="mord mathdefault">a</span><span class="mord mathdefault">n</span><span class="mord mathdefault">a</span></span></span></span><span class="counter">4</span></div><div data-formula="i,j \in \mathbb{N}, 1\leq i\leq k \wedge 1\leqslant j\leqslant m \quad numeros \ de \ actuales \ pixeles" class="line-0-0-20"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>i</mi><mo separator="true">,</mo><mi>j</mi><mo>∈</mo><mi mathvariant="double-struck">N</mi><mo separator="true">,</mo><mn>1</mn><mo>≤</mo><mi>i</mi><mo>≤</mo><mi>k</mi><mo>∧</mo><mn>1</mn><mo>⩽</mo><mi>j</mi><mo>⩽</mo><mi>m</mi><mspace width="1em"></mspace><mi>n</mi><mi>u</mi><mi>m</mi><mi>e</mi><mi>r</mi><mi>o</mi><mi>s</mi><mtext>&nbsp;</mtext><mi>d</mi><mi>e</mi><mtext>&nbsp;</mtext><mi>a</mi><mi>c</mi><mi>t</mi><mi>u</mi><mi>a</mi><mi>l</mi><mi>e</mi><mi>s</mi><mtext>&nbsp;</mtext><mi>p</mi><mi>i</mi><mi>x</mi><mi>e</mi><mi>l</mi><mi>e</mi><mi>s</mi></mrow><annotation encoding="application/x-tex">i,j \in \mathbb{N}, 1\leq i\leq k \wedge 1\leqslant j\leqslant m \quad numeros \ de \ actuales \ pixeles</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.85396em;vertical-align:-0.19444em;"></span><span class="mord mathdefault">i</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.05724em;">j</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.88333em;vertical-align:-0.19444em;"></span><span class="mord"><span class="mord mathbb">N</span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.79549em;vertical-align:-0.13597em;"></span><span class="mord mathdefault">i</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.03148em;">k</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∧</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.78111em;vertical-align:-0.13667em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel amsrm">⩽</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.85396em;vertical-align:-0.19444em;"></span><span class="mord mathdefault" style="margin-right:0.05724em;">j</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel amsrm">⩽</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathdefault">m</span><span class="mspace" style="margin-right:1em;"></span><span class="mord mathdefault">n</span><span class="mord mathdefault">u</span><span class="mord mathdefault">m</span><span class="mord mathdefault">e</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mord mathdefault">o</span><span class="mord mathdefault">s</span><span class="mspace">&nbsp;</span><span class="mord mathdefault">d</span><span class="mord mathdefault">e</span><span class="mspace">&nbsp;</span><span class="mord mathdefault">a</span><span class="mord mathdefault">c</span><span class="mord mathdefault">t</span><span class="mord mathdefault">u</span><span class="mord mathdefault">a</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault">e</span><span class="mord mathdefault">s</span><span class="mspace">&nbsp;</span><span class="mord mathdefault">p</span><span class="mord mathdefault">i</span><span class="mord mathdefault">x</span><span class="mord mathdefault">e</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault">e</span><span class="mord mathdefault">s</span></span></span></span><span class="counter">5</span></div><div data-formula="\tilde{v}\in \mathbb{R}^{3} \quad vector \ vertical \ que \ indica \ dónde \ está \ arriba \ y \ abajo" class="line-0-0-20"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mover accent="true"><mi>v</mi><mo>~</mo></mover><mo>∈</mo><msup><mi mathvariant="double-struck">R</mi><mn>3</mn></msup><mspace width="1em"></mspace><mi>v</mi><mi>e</mi><mi>c</mi><mi>t</mi><mi>o</mi><mi>r</mi><mtext>&nbsp;</mtext><mi>v</mi><mi>e</mi><mi>r</mi><mi>t</mi><mi>i</mi><mi>c</mi><mi>a</mi><mi>l</mi><mtext>&nbsp;</mtext><mi>q</mi><mi>u</mi><mi>e</mi><mtext>&nbsp;</mtext><mi>i</mi><mi>n</mi><mi>d</mi><mi>i</mi><mi>c</mi><mi>a</mi><mtext>&nbsp;</mtext><mi>d</mi><mover accent="true"><mi>o</mi><mo>ˊ</mo></mover><mi>n</mi><mi>d</mi><mi>e</mi><mtext>&nbsp;</mtext><mi>e</mi><mi>s</mi><mi>t</mi><mover accent="true"><mi>a</mi><mo>ˊ</mo></mover><mtext>&nbsp;</mtext><mi>a</mi><mi>r</mi><mi>r</mi><mi>i</mi><mi>b</mi><mi>a</mi><mtext>&nbsp;</mtext><mi>y</mi><mtext>&nbsp;</mtext><mi>a</mi><mi>b</mi><mi>a</mi><mi>j</mi><mi>o</mi></mrow><annotation encoding="application/x-tex">\tilde{v}\in \mathbb{R}^{3} \quad vector \ vertical \ que \ indica \ dónde \ está \ arriba \ y \ abajo</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7069599999999999em;vertical-align:-0.0391em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6678599999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">v</span></span></span><span style="top:-3.35em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.22222em;"><span class="mord">~</span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.008548em;vertical-align:-0.19444em;"></span><span class="mord"><span class="mord"><span class="mord mathbb">R</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">3</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:1em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">v</span><span class="mord mathdefault">e</span><span class="mord mathdefault">c</span><span class="mord mathdefault">t</span><span class="mord mathdefault">o</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mspace">&nbsp;</span><span class="mord mathdefault" style="margin-right:0.03588em;">v</span><span class="mord mathdefault">e</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mord mathdefault">t</span><span class="mord mathdefault">i</span><span class="mord mathdefault">c</span><span class="mord mathdefault">a</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mspace">&nbsp;</span><span class="mord mathdefault" style="margin-right:0.03588em;">q</span><span class="mord mathdefault">u</span><span class="mord mathdefault">e</span><span class="mspace">&nbsp;</span><span class="mord mathdefault">i</span><span class="mord mathdefault">n</span><span class="mord mathdefault">d</span><span class="mord mathdefault">i</span><span class="mord mathdefault">c</span><span class="mord mathdefault">a</span><span class="mspace">&nbsp;</span><span class="mord mathdefault">d</span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.69444em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathdefault">o</span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.19444em;"><span class="mord">ˊ</span></span></span></span></span></span></span><span class="mord mathdefault">n</span><span class="mord mathdefault">d</span><span class="mord mathdefault">e</span><span class="mspace">&nbsp;</span><span class="mord mathdefault">e</span><span class="mord mathdefault">s</span><span class="mord mathdefault">t</span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.69444em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathdefault">a</span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.25em;"><span class="mord">ˊ</span></span></span></span></span></span></span><span class="mspace">&nbsp;</span><span class="mord mathdefault">a</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mord mathdefault">i</span><span class="mord mathdefault">b</span><span class="mord mathdefault">a</span><span class="mspace">&nbsp;</span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="mspace">&nbsp;</span><span class="mord mathdefault">a</span><span class="mord mathdefault">b</span><span class="mord mathdefault">a</span><span class="mord mathdefault" style="margin-right:0.05724em;">j</span><span class="mord mathdefault">o</span></span></span></span><span class="counter">6</span></div></div><marker><div style="text-align:center">
 <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/b/b2/RaysViewportSchema.png/638px-RaysViewportSchema.png" alt="Markdown Monster icon" style="width: 500px;margin-bottom: 20px">
</div>

</marker><p>La idea es encontrar la posición de cada centro de píxeles de la ventana gráfica Pij lo que nos permite encontrar la línea que va desde el ojo <strong>E</strong> a través de ese píxel y finalmente obtener el rayo descrito por el punto <strong>E</strong> y el vector <strong>Rij = Pij - E</strong> ( o su normalizacion <strong>rij</strong>)</p><p>Cálculos previos: busquemos y normalicemos el vector <strong>t</strong> y y los vectores <strong>b,v</strong> que son paralelas a la ventana gráfica (todas representadas en la imagen de arriba)</p><div class="formula-0-0-19  "><div data-formula="{\displaystyle {\vec {t}}=T-E,\qquad  {\vec {b}}={\vec {v}}\times {\vec {t}}}" class="line-0-0-20"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mstyle scriptlevel="0" displaystyle="true"><mover accent="true"><mi>t</mi><mo>⃗</mo></mover><mo>=</mo><mi>T</mi><mo>−</mo><mi>E</mi><mo separator="true">,</mo><mspace width="2em"></mspace><mover accent="true"><mi>b</mi><mo>⃗</mo></mover><mo>=</mo><mover accent="true"><mi>v</mi><mo>⃗</mo></mover><mo>×</mo><mover accent="true"><mi>t</mi><mo>⃗</mo></mover></mstyle></mrow><annotation encoding="application/x-tex">{\displaystyle {\vec {t}}=T-E,\qquad  {\vec {b}}={\vec {v}}\times {\vec {t}}}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.1718799999999998em;vertical-align:-0.19444em;"></span><span class="mord"><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.89808em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault">t</span></span></span><span style="top:-3.18408em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.15216em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width="0.471em" height="0.714em" style="width:0.471em" viewBox="0 0 471 714" preserveAspectRatio="xMinYMin"><path d="M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z"></path></svg></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord mathdefault" style="margin-right:0.13889em;">T</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord mathdefault" style="margin-right:0.05764em;">E</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mspace" style="margin-right:2em;"></span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9774399999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault">b</span></span></span><span style="top:-3.26344em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2355em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width="0.471em" height="0.714em" style="width:0.471em" viewBox="0 0 471 714" preserveAspectRatio="xMinYMin"><path d="M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z"></path></svg></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.714em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">v</span></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.20772em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width="0.471em" height="0.714em" style="width:0.471em" viewBox="0 0 471 714" preserveAspectRatio="xMinYMin"><path d="M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z"></path></svg></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.89808em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault">t</span></span></span><span style="top:-3.18408em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.15216em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width="0.471em" height="0.714em" style="width:0.471em" viewBox="0 0 471 714" preserveAspectRatio="xMinYMin"><path d="M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z"></path></svg></span></span></span></span></span></span></span></span></span></span></span></span><span class="counter">1</span></div><div data-formula="{\displaystyle {\vec {t_{n}}}={\frac {\vec {t}}{||{\vec {t}}||}},\qquad {\vec {b_{n}}}={\frac {\vec {b}}{||{\vec {b}}||}},\qquad {\vec {v_{n}}} ={\vec {t_{n}}}\times {\vec {b_{n}}}}" class="line-0-0-20"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mstyle scriptlevel="0" displaystyle="true"><mover accent="true"><msub><mi>t</mi><mi>n</mi></msub><mo>⃗</mo></mover><mo>=</mo><mfrac><mover accent="true"><mi>t</mi><mo>⃗</mo></mover><mrow><mi mathvariant="normal">∣</mi><mi mathvariant="normal">∣</mi><mover accent="true"><mi>t</mi><mo>⃗</mo></mover><mi mathvariant="normal">∣</mi><mi mathvariant="normal">∣</mi></mrow></mfrac><mo separator="true">,</mo><mspace width="2em"></mspace><mover accent="true"><msub><mi>b</mi><mi>n</mi></msub><mo>⃗</mo></mover><mo>=</mo><mfrac><mover accent="true"><mi>b</mi><mo>⃗</mo></mover><mrow><mi mathvariant="normal">∣</mi><mi mathvariant="normal">∣</mi><mover accent="true"><mi>b</mi><mo>⃗</mo></mover><mi mathvariant="normal">∣</mi><mi mathvariant="normal">∣</mi></mrow></mfrac><mo separator="true">,</mo><mspace width="2em"></mspace><mover accent="true"><msub><mi>v</mi><mi>n</mi></msub><mo>⃗</mo></mover><mo>=</mo><mover accent="true"><msub><mi>t</mi><mi>n</mi></msub><mo>⃗</mo></mover><mo>×</mo><mover accent="true"><msub><mi>b</mi><mi>n</mi></msub><mo>⃗</mo></mover></mstyle></mrow><annotation encoding="application/x-tex">{\displaystyle {\vec {t_{n}}}={\frac {\vec {t}}{||{\vec {t}}||}},\qquad {\vec {b_{n}}}={\frac {\vec {b}}{||{\vec {b}}||}},\qquad {\vec {v_{n}}} ={\vec {t_{n}}}\times {\vec {b_{n}}}}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:2.7718799999999995em;vertical-align:-1.1174399999999998em;"></span><span class="mord"><span class="mord"><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.89808em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">n</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.18408em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2355em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width="0.471em" height="0.714em" style="width:0.471em" viewBox="0 0 471 714" preserveAspectRatio="xMinYMin"><path d="M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z"></path></svg></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord"><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.57508em;"><span style="top:-2.21192em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">∣</span><span class="mord">∣</span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.89808em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault">t</span></span></span><span style="top:-3.18408em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.15216em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width="0.471em" height="0.714em" style="width:0.471em" viewBox="0 0 471 714" preserveAspectRatio="xMinYMin"><path d="M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z"></path></svg></span></span></span></span></span></span></span></span><span class="mord">∣</span><span class="mord">∣</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.89808em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault">t</span></span></span><span style="top:-3.18408em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.15216em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width="0.471em" height="0.714em" style="width:0.471em" viewBox="0 0 471 714" preserveAspectRatio="xMinYMin"><path d="M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z"></path></svg></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.03808em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mspace" style="margin-right:2em;"></span><span class="mord"><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9774399999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault">b</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">n</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.26344em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2355em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width="0.471em" height="0.714em" style="width:0.471em" viewBox="0 0 471 714" preserveAspectRatio="xMinYMin"><path d="M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z"></path></svg></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord"><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.65444em;"><span style="top:-2.1325600000000002em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">∣</span><span class="mord">∣</span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9774399999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault">b</span></span></span><span style="top:-3.26344em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2355em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width="0.471em" height="0.714em" style="width:0.471em" viewBox="0 0 471 714" preserveAspectRatio="xMinYMin"><path d="M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z"></path></svg></span></span></span></span></span></span></span></span><span class="mord">∣</span><span class="mord">∣</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9774399999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault">b</span></span></span><span style="top:-3.26344em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2355em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width="0.471em" height="0.714em" style="width:0.471em" viewBox="0 0 471 714" preserveAspectRatio="xMinYMin"><path d="M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z"></path></svg></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.1174399999999998em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mspace" style="margin-right:2em;"></span><span class="mord"><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.714em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">v</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">n</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2355em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width="0.471em" height="0.714em" style="width:0.471em" viewBox="0 0 471 714" preserveAspectRatio="xMinYMin"><path d="M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z"></path></svg></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord"><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.89808em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">n</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.18408em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2355em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width="0.471em" height="0.714em" style="width:0.471em" viewBox="0 0 471 714" preserveAspectRatio="xMinYMin"><path d="M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z"></path></svg></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9774399999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault">b</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">n</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.26344em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2355em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width="0.471em" height="0.714em" style="width:0.471em" viewBox="0 0 471 714" preserveAspectRatio="xMinYMin"><path d="M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z"></path></svg></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></span><span class="counter">2</span></div></div><p>Hay que tener en cuenta que el centro de la ventana gráfica  <strong>C = E + tn*d</strong>, luego se calculan los tamaños del viewport  <strong>hx, hy</strong></p><div class="formula-0-0-19  "><div data-formula="{\displaystyle g_{x}={\frac {h_{x}}{2}}=d\tan {\frac {\theta }{2}}, \qquad g_{y}={\frac {h_{y}}{2}}=g_{x}{\frac {m-1}{k-1}}}" class="line-0-0-20"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mstyle scriptlevel="0" displaystyle="true"><msub><mi>g</mi><mi>x</mi></msub><mo>=</mo><mfrac><msub><mi>h</mi><mi>x</mi></msub><mn>2</mn></mfrac><mo>=</mo><mi>d</mi><mi>tan</mi><mo>⁡</mo><mfrac><mi>θ</mi><mn>2</mn></mfrac><mo separator="true">,</mo><mspace width="2em"></mspace><msub><mi>g</mi><mi>y</mi></msub><mo>=</mo><mfrac><msub><mi>h</mi><mi>y</mi></msub><mn>2</mn></mfrac><mo>=</mo><msub><mi>g</mi><mi>x</mi></msub><mfrac><mrow><mi>m</mi><mo>−</mo><mn>1</mn></mrow><mrow><mi>k</mi><mo>−</mo><mn>1</mn></mrow></mfrac></mstyle></mrow><annotation encoding="application/x-tex">{\displaystyle g_{x}={\frac {h_{x}}{2}}=d\tan {\frac {\theta }{2}}, \qquad g_{y}={\frac {h_{y}}{2}}=g_{x}{\frac {m-1}{k-1}}}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:2.14077em;vertical-align:-0.7693300000000001em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">g</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">x</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord"><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.37144em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">2</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault">h</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">x</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord mathdefault">d</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mop">tan</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.37144em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">2</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">θ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mspace" style="margin-right:2em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">g</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.15139200000000003em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.03588em;">y</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord"><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.37144em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">2</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault">h</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.15139200000000003em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.03588em;">y</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">g</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">x</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.32144em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03148em;">k</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord">1</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault">m</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.7693300000000001em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></span><span class="counter">1</span></div></div><p>Y luego se calculan los vectores de desplazamiento del siguiente píxel <strong>qx</strong> y <strong>qy</strong> a lo largo de las direcciones paralelas al viewport (<strong>b,v</strong>), y el centro de píxeles de la parte inferior izquierda <strong>p1m</strong></p><div class="formula-0-0-19  "><div data-formula="{\displaystyle {\vec {c}}={\frac {2g_{x}}{k-1}}{\vec {b_{n}}},\qquad {\vec {q_{y}}}={\frac {2g_{y}}{m-1}}{\vec {v_{n}}}, \qquad {\vec {p_{1m}}}={\vec {t_{n}}}d-g_{x}{\vec {b_{n}}}-{g_{y}}{\vec {v}}_{n}}" class="line-0-0-20"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mstyle scriptlevel="0" displaystyle="true"><mover accent="true"><mi>c</mi><mo>⃗</mo></mover><mo>=</mo><mfrac><mrow><mn>2</mn><msub><mi>g</mi><mi>x</mi></msub></mrow><mrow><mi>k</mi><mo>−</mo><mn>1</mn></mrow></mfrac><mover accent="true"><msub><mi>b</mi><mi>n</mi></msub><mo>⃗</mo></mover><mo separator="true">,</mo><mspace width="2em"></mspace><mover accent="true"><msub><mi>q</mi><mi>y</mi></msub><mo>⃗</mo></mover><mo>=</mo><mfrac><mrow><mn>2</mn><msub><mi>g</mi><mi>y</mi></msub></mrow><mrow><mi>m</mi><mo>−</mo><mn>1</mn></mrow></mfrac><mover accent="true"><msub><mi>v</mi><mi>n</mi></msub><mo>⃗</mo></mover><mo separator="true">,</mo><mspace width="2em"></mspace><mover accent="true"><msub><mi>p</mi><mrow><mn>1</mn><mi>m</mi></mrow></msub><mo>⃗</mo></mover><mo>=</mo><mover accent="true"><msub><mi>t</mi><mi>n</mi></msub><mo>⃗</mo></mover><mi>d</mi><mo>−</mo><msub><mi>g</mi><mi>x</mi></msub><mover accent="true"><msub><mi>b</mi><mi>n</mi></msub><mo>⃗</mo></mover><mo>−</mo><msub><mi>g</mi><mi>y</mi></msub><msub><mover accent="true"><mi>v</mi><mo>⃗</mo></mover><mi>n</mi></msub></mstyle></mrow><annotation encoding="application/x-tex">{\displaystyle {\vec {c}}={\frac {2g_{x}}{k-1}}{\vec {b_{n}}},\qquad {\vec {q_{y}}}={\frac {2g_{y}}{m-1}}{\vec {v_{n}}}, \qquad {\vec {p_{1m}}}={\vec {t_{n}}}d-g_{x}{\vec {b_{n}}}-{g_{y}}{\vec {v}}_{n}}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:2.09077em;vertical-align:-0.7693300000000001em;"></span><span class="mord"><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.714em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault">c</span></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.17994em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width="0.471em" height="0.714em" style="width:0.471em" viewBox="0 0 471 714" preserveAspectRatio="xMinYMin"><path d="M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z"></path></svg></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord"><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.32144em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03148em;">k</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord">1</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">2</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">g</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">x</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.7693300000000001em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span><span class="mord"><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9774399999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault">b</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">n</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.26344em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2355em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width="0.471em" height="0.714em" style="width:0.471em" viewBox="0 0 471 714" preserveAspectRatio="xMinYMin"><path d="M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z"></path></svg></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mspace" style="margin-right:2em;"></span><span class="mord"><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.714em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.15139200000000003em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.03588em;">y</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2355em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width="0.471em" height="0.714em" style="width:0.471em" viewBox="0 0 471 714" preserveAspectRatio="xMinYMin"><path d="M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z"></path></svg></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord"><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.32144em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault">m</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord">1</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">2</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">g</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.15139200000000003em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.03588em;">y</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.7693300000000001em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span><span class="mord"><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.714em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">v</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">n</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2355em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width="0.471em" height="0.714em" style="width:0.471em" viewBox="0 0 471 714" preserveAspectRatio="xMinYMin"><path d="M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z"></path></svg></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mspace" style="margin-right:2em;"></span><span class="mord"><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.714em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mord mathdefault mtight">m</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2355em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width="0.471em" height="0.714em" style="width:0.471em" viewBox="0 0 471 714" preserveAspectRatio="xMinYMin"><path d="M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z"></path></svg></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.19444em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord"><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.89808em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">n</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.18408em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2355em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width="0.471em" height="0.714em" style="width:0.471em" viewBox="0 0 471 714" preserveAspectRatio="xMinYMin"><path d="M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z"></path></svg></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord mathdefault">d</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">g</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">x</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9774399999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault">b</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">n</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.26344em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2355em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width="0.471em" height="0.714em" style="width:0.471em" viewBox="0 0 471 714" preserveAspectRatio="xMinYMin"><path d="M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z"></path></svg></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">g</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.15139200000000003em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.03588em;">y</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span></span><span class="mord"><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.714em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">v</span></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.20772em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width="0.471em" height="0.714em" style="width:0.471em" viewBox="0 0 471 714" preserveAspectRatio="xMinYMin"><path d="M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z"></path></svg></span></span></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">n</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></span><span class="counter">1</span></div></div><p>Para los calculos finales se tiene que tener en cuenta que <strong>Pij = E + pij</strong>, y <strong>Rij = Pij - E</strong></p><div class="formula-0-0-19  "><div data-formula="{\displaystyle {\vec {p_{ij}}}={\vec {p_{1m}}}+{\vec {q_{x}}}(i-1)+{\vec {q}}_{y}(j-1)}" class="line-0-0-20"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mstyle scriptlevel="0" displaystyle="true"><mover accent="true"><msub><mi>p</mi><mrow><mi>i</mi><mi>j</mi></mrow></msub><mo>⃗</mo></mover><mo>=</mo><mover accent="true"><msub><mi>p</mi><mrow><mn>1</mn><mi>m</mi></mrow></msub><mo>⃗</mo></mover><mo>+</mo><mover accent="true"><msub><mi>q</mi><mi>x</mi></msub><mo>⃗</mo></mover><mo stretchy="false">(</mo><mi>i</mi><mo>−</mo><mn>1</mn><mo stretchy="false">)</mo><mo>+</mo><msub><mover accent="true"><mi>q</mi><mo>⃗</mo></mover><mi>y</mi></msub><mo stretchy="false">(</mo><mi>j</mi><mo>−</mo><mn>1</mn><mo stretchy="false">)</mo></mstyle></mrow><annotation encoding="application/x-tex">{\displaystyle {\vec {p_{ij}}}={\vec {p_{1m}}}+{\vec {q_{x}}}(i-1)+{\vec {q}}_{y}(j-1)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.130248em;vertical-align:-0.380248em;"></span><span class="mord"><span class="mord"><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.714em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span><span class="mord mathdefault mtight" style="margin-right:0.05724em;">j</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2355em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width="0.471em" height="0.714em" style="width:0.471em" viewBox="0 0 471 714" preserveAspectRatio="xMinYMin"><path d="M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z"></path></svg></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord"><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.714em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mord mathdefault mtight">m</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2355em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width="0.471em" height="0.714em" style="width:0.471em" viewBox="0 0 471 714" preserveAspectRatio="xMinYMin"><path d="M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z"></path></svg></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.19444em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.714em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">x</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2355em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width="0.471em" height="0.714em" style="width:0.471em" viewBox="0 0 471 714" preserveAspectRatio="xMinYMin"><path d="M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z"></path></svg></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.19444em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathdefault">i</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord">1</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mord"><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.714em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">q</span></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.15216em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width="0.471em" height="0.714em" style="width:0.471em" viewBox="0 0 471 714" preserveAspectRatio="xMinYMin"><path d="M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z"></path></svg></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.19444em;"><span></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.057252000000000025em;"><span style="top:-2.4558600000000004em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.03588em;">y</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.380248em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.05724em;">j</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord">1</span><span class="mclose">)</span></span></span></span></span><span class="counter">1</span></div><div data-formula="{\displaystyle {\vec {r_{ij}}}={\frac {{\vec {R_{ij}}}}{||{\vec {R_{ij}}}||}}={\frac {{\vec {p_{ij}}}}{||{\vec {p}}_{ij}||}}}" class="line-0-0-20"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mstyle scriptlevel="0" displaystyle="true"><mover accent="true"><msub><mi>r</mi><mrow><mi>i</mi><mi>j</mi></mrow></msub><mo>⃗</mo></mover><mo>=</mo><mfrac><mover accent="true"><msub><mi>R</mi><mrow><mi>i</mi><mi>j</mi></mrow></msub><mo>⃗</mo></mover><mrow><mi mathvariant="normal">∣</mi><mi mathvariant="normal">∣</mi><mover accent="true"><msub><mi>R</mi><mrow><mi>i</mi><mi>j</mi></mrow></msub><mo>⃗</mo></mover><mi mathvariant="normal">∣</mi><mi mathvariant="normal">∣</mi></mrow></mfrac><mo>=</mo><mfrac><mover accent="true"><msub><mi>p</mi><mrow><mi>i</mi><mi>j</mi></mrow></msub><mo>⃗</mo></mover><mrow><mi mathvariant="normal">∣</mi><mi mathvariant="normal">∣</mi><msub><mover accent="true"><mi>p</mi><mo>⃗</mo></mover><mrow><mi>i</mi><mi>j</mi></mrow></msub><mi mathvariant="normal">∣</mi><mi mathvariant="normal">∣</mi></mrow></mfrac></mstyle></mrow><annotation encoding="application/x-tex">{\displaystyle {\vec {r_{ij}}}={\frac {{\vec {R_{ij}}}}{||{\vec {R_{ij}}}||}}={\frac {{\vec {p_{ij}}}}{||{\vec {p}}_{ij}||}}}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:2.785768em;vertical-align:-1.1424379999999998em;"></span><span class="mord"><span class="mord"><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.714em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span><span class="mord mathdefault mtight" style="margin-right:0.05724em;">j</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2355em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width="0.471em" height="0.714em" style="width:0.471em" viewBox="0 0 471 714" preserveAspectRatio="xMinYMin"><path d="M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z"></path></svg></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord"><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.64333em;"><span style="top:-2.14367em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">∣</span><span class="mord">∣</span><span class="mord"><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9663299999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:0.00773em;">R</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:-0.00773em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span><span class="mord mathdefault mtight" style="margin-right:0.05724em;">j</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.25233em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2355em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width="0.471em" height="0.714em" style="width:0.471em" viewBox="0 0 471 714" preserveAspectRatio="xMinYMin"><path d="M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z"></path></svg></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mord">∣</span><span class="mord">∣</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9663299999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:0.00773em;">R</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:-0.00773em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span><span class="mord mathdefault mtight" style="margin-right:0.05724em;">j</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.25233em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2355em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width="0.471em" height="0.714em" style="width:0.471em" viewBox="0 0 471 714" preserveAspectRatio="xMinYMin"><path d="M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z"></path></svg></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.1424379999999998em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord"><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.391em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">∣</span><span class="mord">∣</span><span class="mord"><span class="mord"><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.714em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault">p</span></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.15216em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width="0.471em" height="0.714em" style="width:0.471em" viewBox="0 0 471 714" preserveAspectRatio="xMinYMin"><path d="M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z"></path></svg></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.19444em;"><span></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.217524em;"><span style="top:-2.4558600000000004em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span><span class="mord mathdefault mtight" style="margin-right:0.05724em;">j</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.380248em;"><span></span></span></span></span></span></span><span class="mord">∣</span><span class="mord">∣</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.714em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span><span class="mord mathdefault mtight" style="margin-right:0.05724em;">j</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2355em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width="0.471em" height="0.714em" style="width:0.471em" viewBox="0 0 471 714" preserveAspectRatio="xMinYMin"><path d="M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z"></path></svg></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.066248em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></span><span class="counter">2</span></div></div><h2 id="v-formas-de--optimizar-el-ray-tracing" class="heading-0-0-1"><span class="anchor-0-0-2" data-ignore-text=""><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span>V. Formas de  optimizar el RAY TRACING</h2><p>En esta sección se van a hablar brevemente de dos algoritmos descritos en artículos científicos para poder optimizar el rendimiento del raytracing.</p><h3 id="1---ray-tracing-with-rope-trees" class="heading-0-0-1"><span class="anchor-0-0-2" data-ignore-text=""><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span>1 - Ray Tracing with Rope Trees</h3><h4 id="autores" class="heading-0-0-1"><span class="anchor-0-0-2" data-ignore-text=""><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span>Autores</h4><p>Vlastimil Havran, Jirí Bittner, Jirí Zára </p><h4 id="abstract" class="heading-0-0-1"><span class="anchor-0-0-2" data-ignore-text=""><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span>Abstract</h4><p>In this paper an acceleration method for finding the nearest ray–object intersection for ray tracing
purposes is presented. We use the concept of BSP trees enriched by rope trees. These are used to
accelerate the traversal of the BSP tree. We give a comparison of experimental results between the
technique based on BSP tree and uniform spatial subdivision</p><h4 id="introducción" class="heading-0-0-1"><span class="anchor-0-0-2" data-ignore-text=""><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span>Introducción</h4><p>El Ray Tracing es una técnica de renderización bien conocida para producir imágenes realistas que simulan bien los espectros
superficies. El principal inconveniente de este algoritmo es su complejidad computacional bastante grande, que no permite
su uso interactivo. El problema se ha centrado en una gran cantidad de interés de investigación en el pasado que ha llevado a
algunas técnicas prácticas para acelerar el algoritmo básico.</p><p>El enfoque presentado en este documento se centra en mejorar la complejidad de casos promedio de la proyección de rayos.
En particular, es adecuado para escenas que contienen una gran cantidad de objetos. Explota la idea de espacio
subdivisión, que sirve para determinar una parte de la escena atravesada por un rayo de manera eficiente.</p><h4 id="subdivisión-espacial-uniforme" class="heading-0-0-1"><span class="anchor-0-0-2" data-ignore-text=""><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span>Subdivisión espacial uniforme</h4><p>Una subdivisión espacial uniforme (a menudo denominada cuadrícula) es uno de los primeros métodos desarrollados para la subdivisión espacial. Implica la subdivisión del espacio de la escena en celdas elementales de igual tamaño, independientemente de la
distribución de objetos en la escena. La cuadrícula tridimensional se asemeja a la subdivisión de una cuadrícula bidimensional.
pantalla en píxeles. A cada celda se le asigna una lista de objetos que la cruzan.</p><marker><div style="text-align:center">
<img src="https://i.gyazo.com/c0683367072d17c9b6f4e4fa7cf0841b.png" alt="Markdown Monster icon" style="width: 100hv;margin-bottom: 1s0px">
</div>

</marker><h4 id="árbol-de-partición-de-espacio-binario" class="heading-0-0-1"><span class="anchor-0-0-2" data-ignore-text=""><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span>Árbol de partición de espacio binario</h4><p>Un árbol de partición de espacio binario (BSP) es análogo al árbol de búsqueda binaria. El árbol BSP representa una escena que contiene un conjunto de objetos jerárquicamente. El BSP se forma subdividiendo recursivamente el espacio de la escena en dos partes. Cada nodo interior contiene un plano de división. Todos los nodos del árbol BSP corresponden a células poliédricas convexas. En cada hoja del árbol BSP se almacena una lista de objetos que se cruzan con la celda correspondiente.</p><marker><div style="text-align:center">
<img src="https://i.gyazo.com/11184129252da8d4e12db574d89268d0.png" alt="Markdown Monster icon" style="width: 100hv;margin-bottom: 1s0px">
</div>


</marker><h4 id="optimización-estadística-de-un-árbol-bsp" class="heading-0-0-1"><span class="anchor-0-0-2" data-ignore-text=""><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span>Optimización estadística de un árbol BSP</h4><p>El tiempo necesario para la construcción de un árbol BSP suele ser insignificante en comparación con el cálculo
tiempo dedicado a atravesar el árbol para determinar las intersecciones entre el rayo y el objeto. Por tanto, es ventajoso dedicar un
mayor esfuerzo para crear un árbol eficiente, bajo el supuesto de que el tiempo extra se recuperaría
durante el recorrido.</p><marker><div style="text-align:center">
<img src="https://i.gyazo.com/22a4974bf86ac1fc675d7ac59ae3a487.png" alt="Markdown Monster icon" style="width: 100hv;margin-bottom: 1s0px">
</div>

</marker><h4 id="cuerdas" class="heading-0-0-1"><span class="anchor-0-0-2" data-ignore-text=""><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span>Cuerdas</h4><p>Cada hoja en el árbol BSP corresponde a la hoja-celda alineada con el eje. Cada una de estas hoja-celdas tiene seis caras. Las caras de una celda de hoja se llamarán hoja-cara. Las celdas que cruzan la cara de una hoja se denominan celdas vecinas.</p><h4 id="algoritmo-de-construcción-de-cuerdas" class="heading-0-0-1"><span class="anchor-0-0-2" data-ignore-text=""><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span>Algoritmo de construcción de cuerdas</h4><p>La construcción de cuerdas es sencilla. Para cada hoja-celda del árbol BSP se coloca una cuerda. Para una hoja-cara determinada, la jerarquía se busca comenzando desde el nodo raíz. En cada paso, la búsqueda continúa en el subárbol, que corresponde a una cara que se cruza con la celda. Si la cara está dividida por el plano referido en el nodo alcanzado actualmente (es decir, interseca ambos subárboles), la búsqueda finaliza.</p><h4 id="árboles-de-cuerda" class="heading-0-0-1"><span class="anchor-0-0-2" data-ignore-text=""><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span>Árboles de cuerda</h4><p>Las cuerdas se utilizan para localizar una hoja vecina para un rayo que sale de la hoja actual durante el algoritmo de recorrido del rayo. Las cuerdas apuntan a hojas o nodos interiores del árbol BSP.</p><marker><div style="text-align:center">
<img src="https://i.gyazo.com/9975c8010707d57068e8cf22022a6129.png" alt="Markdown Monster icon" style="width: 100hv;margin-bottom: 1s0px">
</div>

</marker><h4 id="análisis-de-algoritmos" class="heading-0-0-1"><span class="anchor-0-0-2" data-ignore-text=""><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span>Análisis de algoritmos</h4><p>La técnica de los árboles de cuerda requiere una memoria adicional para almacenar los árboles de cuerda, pero por otro lado, elimina los largos pasos transversales (a menudo llamados verticales) desde la raíz hacia abajo. La eliminación de los pasos transversales es especialmente notable para los rayos secundarios y de sombra porque sabemos exactamente en qué hoja-célula se encuentra el origen del rayo.</p><h3 id="2--fast-robust-bsp-tree--traversal-algorithm-for-ray-tracing" class="heading-0-0-1"><span class="anchor-0-0-2" data-ignore-text=""><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span>2 -Fast Robust BSP Tree  Traversal Algorithm For Ray Tracing</h3><h4 id="autores-1" class="heading-0-0-1"><span class="anchor-0-0-2" data-ignore-text=""><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span>Autores</h4><p>Vlastimil Havran, Tomás Kopal, Jirí Bittner, Jirí Zára </p><h4 id="abstract-1" class="heading-0-0-1"><span class="anchor-0-0-2" data-ignore-text=""><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span>Abstract</h4><p>Un árbol de BSP (Partición binaria del espacio) ortogonal es una estructura de datos de subdivisión espacial comúnmente usada para la aceleración de ray tracing, su construcción toma relativamente poco tiempo y la eficacia de su recorrido influencia significativamente el resultado del tiempo de renderizado. En este artículo se propone un nuevo algoritmo de recorrido rápido basado en la evaluación estadística de todos los casos posibles que ocurren durante al recorrer un árbol BSP. </p><p>El algoritmo propuesto manipula todas las singularidades correctamente y ahorra desde un 30% hasta un 50% del tiempo de recorrido en comparación con los algoritmos Sung y Arvo. </p><h4 id="introducción-1" class="heading-0-0-1"><span class="anchor-0-0-2" data-ignore-text=""><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span>Introducción</h4><p>Las técnicas de subdivisión espacial son métodos bien conocidos para acelerar los cálculos de ray tracing, hay una variedad de esquemas para la subdivisión espacial incluyendo los uniformes como grillas y los no uniformes como árboles BSP, y oc. La complejidad del tiempo de ray tracing es determinada por el casteo de una gran cantidad de rayos. </p><p>El principio de todas las técnicas de subdivisión espacial, es la reducción las computaciones de intersecciones rayo-objeto mediante particionamiento del espacio de la escena en celdas disjuntas y la prueba de intersección rayo-objeto es computada por las celdas sobre el camino del rayo. 
Debe notarse que a pesar que el número de pruebas de intersección disminuye significativamente, hay requerimientos adicionales para el recorrido de la estructura de datos por subdivisión espacial. Una manera para reducir el tiempo total, es mejorar la estructura de datos espacial y la segunda manera es mejorar el algoritmo de recorrido, lo cual es la aproximación del artículo. </p><p>Un árbol de partición binaria del espacio es una estructura de datos simple y poderosa que puede ser usada para resolver una variedad de problemas geométricos, para el caso de ray-tracing se construye dividiendo planos de manera perpendicular a los principales ejes. Lo anterior representa una ventaja cuando los objetos con formas complejas que están encerrados son renderizados, con la ortogonalidad del árbol BSP se disminuye el número de cálculos requeridos por una intersección de un rayo y un plano de división. </p><h4 id="clasificación-transversal" class="heading-0-0-1"><span class="anchor-0-0-2" data-ignore-text=""><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span>Clasificación Transversal</h4><p>Cuando un objeto es traspasado por un rayo durante el proceso de renderizado, un árbol BSP se atraviesa desde la raíz hasta las hojas. Las secuencias corregidas de hojas, tienen que ser identificadas para el origen de un rayo y dirección, la hoja más cercana tiene que ser procesada primero, el plano dividido subdivide una celda rectangular en dos más pequeñas, el test realizado durante el recorrido debe determinar si visitar ambos nodos y en qué orden o si debe visitar sólo uno y cuál.</p><marker><div style="text-align:center">
<img src="https://i.gyazo.com/9bd87a654c4c938050badd5942a292cc.png" alt="Markdown Monster icon" style="width: 400px;margin-bottom: 20px">
</div>

</marker><p>En la figura se muestran todos los casos clasificados por el origen y dirección del rayo con respecto al plano dividido, como el plano dividido está orientado, podemos distinguir ubicaciones negativas del punto de origen (la parte de abajo del plano) y la positiva (la parte de arriba del plano divisor), los casos descritos anteriormente son denominados como N y P respectivamente. Los casos Z muestran cuando la situación es que el origen del rayo está embebido dentro del plano divisor. Puntos geométricos importantes del esquema de clasificación son caracterizados por la distancia clasificada, medida desde el origen del rayo sobre la dirección de este. El rayo al entrar el nodo en el punto de entrada es denotado con la clasificación a y sale por el punto marcado como b por lo que a&lt;=b, la distancia marcada desde el origen del rayo hacia el plano divisor es denotada como s. La clasificación incluye todas las relaciones entre las variables señaladas. </p><h4 id="propuesta-algoritmo" class="heading-0-0-1"><span class="anchor-0-0-2" data-ignore-text=""><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span>Propuesta algoritmo</h4><p>Para resolver los casos señalados en la figura se propuso un nuevo algoritmo para realizar el recorrido, este compara coordenadas en lugar de distancias debido a la propiedad del arbol de ser ortogonal </p><marker><div style="text-align:center">
<img src="https://i.gyazo.com/47fc74ed97ebfaf903568c7ed9a148e0.png" alt="Markdown Monster icon" style="width: 400px;margin-bottom: 20px">
</div>

</marker><p>En la figura suponemos que el plano divisor es perpendicular al eje x, por lo cual las coordenadas x de los puntos s, a y b son suficientes para distinguir todos los otros casos señalados en la figura anterior. </p><p>Este algoritmo necesita exactamente dos comparaciones para encontrar el caso del recorrido, las coordenadas x, y o z son seleccionados de acuerdo a la orientación del plano divisor dado. Cuando los nodos son golpeados por el rayo, la ubicación de s es procesada, que es la parte computacionalmente más costosa pero estas son luego reutilizadas y no es necesario un recálculo. </p><h4 id="resultados" class="heading-0-0-1"><span class="anchor-0-0-2" data-ignore-text=""><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span>Resultados</h4><marker><div style="text-align:center">
<img src="https://i.gyazo.com/585c1a1270f10083b1599a374e8a1181.png" alt="Markdown Monster icon" style="width: 400px;margin-bottom: 20px">
</div>
El algoritmo propuesto es denotado como TA-B puede verse que requiere de un menor costo computacional y los resultados conforme al ray tracing son de alrededor de dos veces más rápido.

</marker><h2 id="vi-ray-tracing-en-gpu" class="heading-0-0-1"><span class="anchor-0-0-2" data-ignore-text=""><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span>VI. Ray Tracing en GPU</h2><h3 id="creando-la-cuadrícula-uniforme" class="heading-0-0-1"><span class="anchor-0-0-2" data-ignore-text=""><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span>Creando la cuadrícula uniforme</h3><p>Un enfoque bastante sencillo puede ser utilizado para crear la rejilla uniforme, para todos los triángulos Ti en la escena:
Se calculan las celdas límites (b1,b2) del triángulo Ti
Se prueba la intersección triángulo-caja Ti con cada celda Cj que pertenece a (b1,b2)
Si la intersección triángulo-box retorna verdadero, se añade una referencia de Ti a Cj.</p><marker><div style="text-align:center">
<img src="https://i.gyazo.com/e9c7ec0f5757702441a3efd83a14e8db.png" alt="Markdown Monster icon" style="height: 300px;margin-bottom: 1s0px">
     <img src="https://i.gyazo.com/9332a442b0efd435655fb21bafc9d218.png" alt="Markdown Monster icon" style="height: 300px;margin-bottom: 1s0px">
</div>

</marker><p>Aunque la grilla es creada usualmente en la GPU y almacenada en texturas esta puede ser recorrida utilizando la GPU.</p><h3 id="atravesando-la-cuadrícula-uniforme" class="heading-0-0-1"><span class="anchor-0-0-2" data-ignore-text=""><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span>Atravesando la cuadrícula uniforme</h3><p>Jhon Amanatides y Andrew Woo presentaron una manera de recorrer la cuadrícula rápidamente haciendo uso del algoritmo 3D-DDA(Diferencia digital). Con unas pequeñas modificaciones, este algoritmo puede ser mapeado a la GPU.</p><p>Este algoritmo consiste de dos pasos: inicialización y recorrido incremental.</p><marker><div style="text-align:center">
<img src="https://i.gyazo.com/c5f20fc2761619b96a3f7f673f56af6b.png" alt="Markdown Monster icon" style="width: 80hv;margin-bottom: 1s0px">
</div>

</marker><h3 id="removiendo-la-recursión" class="heading-0-0-1"><span class="anchor-0-0-2" data-ignore-text=""><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span>Removiendo la recursión</h3><p>La ecuación para calcular el color en la iteración i se puede obtener simplemente eliminando la recursividad: calcule el color para 1 rayo, luego para 2 rayos, luego para 3 rayos y así sucesivamente, y luego pruebe el resultado con inducción completa. Sería posible agregar soporte a los rayos transmisivos de una manera similar a la reflexión. El problema es que para cada rayo transmisivo, también podría haber un rayo reflectante. Un enfoque simple sería agregar una nueva textura de rayo para cada objeto transmisivo en la escena: cada rayo seguiría un camino diferente, lo que significa agregar una nueva textura por objeto. Pero esto consumiría mucha memoria y requeriría demasiadas pasadas adicionales. Para simplificar el RayTracer basado en GPU, no se utilizan rayos transmisivos.</p><h3 id="almacenamiento-de-la-escena-3d" class="heading-0-0-1"><span class="anchor-0-0-2" data-ignore-text=""><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span>Almacenamiento de la escena 3D</h3><p>Toda la escena, almacenada en una estructura de cuadrícula uniforme, debe mapearse en la memoria de textura. Cada celda de la estructura del índice Voxel contiene un puntero a una lista de elementos. La lista de elementos apunta a los datos reales del elemento, los triángulos. El trazador de rayos solo debería usar triángulos como datos de elementos, pero aquí sería posible admitir otras formas como esferas perfectas, por ejemplo, un juego de trazado de rayos en tiempo real que usa muchas esferas, pero por ahora, solo se usan triángulos.</p><h3 id="bucle-de-cruce-e-intersección-de-equilibrio-de-carga" class="heading-0-0-1"><span class="anchor-0-0-2" data-ignore-text=""><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span>Bucle de cruce e intersección de equilibrio de carga</h3><p>Un problema importante es que tanto el núcleo del intersector como el del traverser requieren bucles y ambos dependen el uno del otro. La forma más fácil sería hacer un bucle en el traverser hasta que ningún rayo esté en estado "activo", luego hacer un bucle en el núcleo del intersector hasta que ningún rayo esté en estado de "espera". Esto es muy ineficiente, porque el número de llamadas al kernel tiene que ser mínimo para evitar que las operaciones de selección-z dominen los cálculos. El intersector de rayos solo debe llamarse si hay suficientes rayos en estado de "espera" y listos para la intersección. Y el rayo traverser solo debe llamarse si hay suficientes rayos listos para atravesarlo. Los experimentos muestran que realizar intersecciones una vez que el 20% de los rayos requiere intersección produce el número mínimo de llamadas al núcleo.</p><marker><div style="text-align:center">
<img src="https://i.gyazo.com/59578fb65d0a61e6deddcb35090e4b39.png" alt="Markdown Monster icon" style="width: 100hv;margin-bottom: 1s0px">
</div>

</marker><h2 id="vii-kernel-de-shading" class="heading-0-0-1"><span class="anchor-0-0-2" data-ignore-text=""><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span>VII. Kernel de Shading</h2><p>El kernel de shading se puede utilizar en el Ray Tracing para evalúar el color de contribución de un rayo en un punto de choque. Los cálculos de shading son exactamente como los de la canalización de gráficos estándar. La información de shading es almacenada en memoria como información de triángulos, un set de tres texturas RGB con 32-bits por canal, contienen los normales y colores del vértice para cada triángulo. La información del choque que es pasada al shader incluye el número de triángulos, a esta información de shading se accede por una búsqueda de textura dependiendo única para el triángulo en particular. 
Al elegir los diferentes rayos de shading, podemos implementar muchísimas variantes de ray tracing usando algoritmos de streaming.<br>El kernel de shading opcionalmente genera sombra, reflejo, refracción o generación aleatoria de rayos, estos rayos secundarios son dispuestos en ubicaciones de texturas para próximas pasadas de renderización. A cada rayo se le asigna un peso para cuando es finalmente procesado, su contribución al final de la imagen sea añadido dentro de la imagen, lo anterior con el fin de eliminar recursión y simplificar el flujo de control. </p><h3 id="ray-caster" class="heading-0-0-1"><span class="anchor-0-0-2" data-ignore-text=""><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span>Ray Caster</h3><p>Genera imágenes que son idénticas a las generadas fuentes de información gráfica estándar. Para cada pixel sobre la pantalla un rayo ocular es generado, este rayo es disparado dentro de la escena y devuelve el color del triángulo más cercano que es chocado. Ningún rayo secundario es generado, incluyendo los rayos sin sombra.</p><h3 id="whitted-ray-tracer" class="heading-0-0-1"><span class="anchor-0-0-2" data-ignore-text=""><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span>Whitted Ray Tracer</h3><p>El trazador clásico de estilo blanqueado genera rayos oculares que los envían desde afuera hacia la escena, al encontrar un choque, el modelo de reflexión para la superficie es evaluado y después un par de rayos de reflexión y refracción, además de un set de rayos sombreados, uno por fuente de luz son generados hacia la escena.</p><h3 id="path-tracer" class="heading-0-0-1"><span class="anchor-0-0-2" data-ignore-text=""><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span>Path Tracer</h3><p>Los rayos son aleatoriamente dispersos desde superficies hasta que golpean una fuente de luz.</p><h3 id="shadow-caster" class="heading-0-0-1"><span class="anchor-0-0-2" data-ignore-text=""><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span>Shadow Caster</h3><p>Usa fuentes de información gráfica estándar para en la primera pasada llevar a cabo cálculos de superficie ocultos y luego usa el algoritmo de raytracing para evaluar sombras. Esta técnica es útil como un reemplazo para los mapas de sombras y de volúmenes. </p><marker><div style="text-align:center">
<img src="https://i.gyazo.com/6db34c558845eac4ed55ae3dbc34dfe2.png" alt="Markdown Monster icon" style="width: 700px;margin-bottom: 20px">
</div>

</marker><p>Diagramas de flujo de datos para los algoritmos de trazado de rayos. 
Los algoritmos representados son (a) proyección de sombras, (b) proyección de rayos,
(c) Trazado de rayos blanqueados y (d) Trazado de trayectorias. Para el trazado de rayos, cada intersección de la superficie del rayo genera L + 2 rayos, donde L es el número de
luces en una escena, correspondientes al número de rayos de sombra que se van a probar, y los otros dos son rayos de reflexión y refracción. Seguimiento de ruta
elige aleatoriamente un rebote de rayo para seguir y la ruta de retroalimentación tiene solo un rayo de ancho.</p><h2 id="viii-programmable-graphics-hardware" class="heading-0-0-1"><span class="anchor-0-0-2" data-ignore-text=""><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span>VIII. PROGRAMMABLE GRAPHICS HARDWARE</h2><marker><div style="text-align:center">
<img src="https://i.gyazo.com/d12dd5016bf312b1423cc361e3e06b72.png" alt="Markdown Monster icon" style="width: 200px;margin-bottom: 20px">
</div>

</marker><h3 id="el-flujo-actual-de-gráficos-programables" class="heading-0-0-1"><span class="anchor-0-0-2" data-ignore-text=""><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span>El flujo actual de gráficos programables:</h3><p>Actualmente chips como el NVIDIA GeForce3 y el ATI Radeon 8500 reemplazan el vértice de función fija y las etapas de fragmentación con las etapas programables. Estos vectores programables y motores de fragmentos ejecutan programas definidos por el usuario y permiten un buen control sobre los cálculos de shading y texturizado. Un programa de vértice Nvidia consiste de 128 y 4-way SIMD de instrucciones de punto flotante.
El programa de vertices corre en cada vértice que entra y los resultados computados son pasados a la etapa de rasterización, la etapa de fragmentación es también programable, desde un combinador de registros Nvidia o desde un Pixel shader DirectX 8. Los pixel shaders como los programas de vértices proveen un set de instrucción 4-way SIMD para texturizados pero no operan sobre valores punto fijo como los programas de vértices. </p><p>El shading programable posee algunas limitaciones:</p><ul><li>Programas de vértices y fragmentos poseen sets de instrucciones simples e incompletas. </li><li>Los tipos de datos de programas de fragmentos son mayoritariamente puntos fijos, las texturas de entradas y tienen como salida colores framebuffers de 8-bits típicamente por cada color de componente. Los valores intermedios en registros tienen valores levemente más precisos.     </li><li>Hay muchas limitaciones en términos de recursos, los programas poseen un límite de instrucciones y un pequeño número de registros. Cada etapa tiene un número limitado de entradas y salidas.</li><li>El número de texturas activas y dependientes es limitado. El hardware actual permite ciertas instrucciones para la computación de ciertas direcciones de texturas solo dentro de ciertos puntos del programa.</li><li>Solamente un unico valor de color puede ser escrito al framebuffer en cada pasada. </li><li>Los programas no pueden repetirse y no hay instrucciones de ramificación condicional. </li></ul><h3 id="el-flujo-propuesto-de-gráficos-programables-a-un-término-cercano" class="heading-0-0-1"><span class="anchor-0-0-2" data-ignore-text=""><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span>El flujo propuesto de gráficos programables a un término cercano:</h3><p>Las limitantes actuales del hardware hacen difícil la tarea de implementar ray-tracing en un programa de fragmentos. Gracias al interés en shading programable para juegos, el flujo de gráficos programables ha evolucionado y circulan diferentes propuestas para la futura aproximación;</p><ul><li>Arquitectura multi paso:
  Admite lecturas de texturas arbitrarias, formatos de textura de punto flotante y framebuffer, instrucciones generales de punto flotante y dos salidas de 4 vectores de punto flotante. La ramificación se implementa a través de la representación multipass.</li><li>Arquitectura de ramificación.
  Arquitectura multipass mejorada para incluir soporte para instrucciones de bifurcación condicional para bucles y flujo de control.</li></ul><h2 id="ix-posible-implementación" class="heading-0-0-1"><span class="anchor-0-0-2" data-ignore-text=""><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span>IX. POSIBLE IMPLEMENTACIÓN</h2><p>Una imagen rasterizada está hecha de píxeles. Una forma de producir una imagen de una escena 3D es "deslizar" de alguna manera esta imagen ráster a lo largo del plano de la imagen de nuestra cámara virtual y disparar rayos a través de cada píxel de la imagen, para encontrar qué parte de la escena cubre cada píxel. La forma en que lo hacemos es simplemente proyectando un rayo que se origina en la posición de la cámara y pasa por el centro de cada píxel. Luego encontramos con que objetos de la escena se cruzan los rayos. Si un pixel "ve" algo, seguramente ve el objeto que está justo frente a él en la dirección señalada por ese rayo. La dirección del rayo, como acabamos de mencionar, se puede construir simplemente trazando una línea desde el origen de la cámara hasta el centro del píxel y luego extendiendo esa línea en la escena.</p><p>Ahora que sabemos lo que ve un pixel, todo lo que tenemos que hacer es repetir este proceso para cada píxel de la imagen. Al configurar el color del píxel con el color del objeto en el que se cruza cada rayo que pasa por el centro de cada píxel, podemos formar una imagen de la escena vista desde un punto de vista particular. Hay que tener en cuenta que este método requiere recorrer todos los píxeles de la imagen y proyectar un rayo en la escena para cada uno de estos píxeles. El segundo paso, el paso de intersección, requiere recorrer todos los objetos en la escena para probar si un rayo se cruza con alguno de estos objetos. Aquí hay una implementación de esta técnica en pseudocódigo:</p><marker><div style="text-align:center">
<img src="https://i.gyazo.com/1131847a861bbdb839c9e90aa946da53.png" alt="Markdown Monster icon" style="width: 100hv;margin-bottom: 1s0px">
</div>

</marker><p>Se suele decir que el trazado de rayos es mejor que la rasterización para el sombreado, pero la mayoría de los libros de texto no explican por qué. Gran parte en el renderizado se trata de calcular la visibilidad entre un punto en el espacio y la primera superficie visible en una dirección determinada, o la visibilidad entre dos puntos. El primero se usa para resolver el problema de visibilidad, el segundo para resolver cosas como el sombreado. La rasterización (combinada con el algoritmo de búfer de profundidad) es muy buena para encontrar la primera superficie visible, pero es ineficaz para resolver la visibilidad entre dos puntos. El trazado de rayos en el otro extremo puede manejar ambos casos de manera eficiente. Encontrar la primera superficie visible es útil para resolver el problema de visibilidad. Por lo tanto, tanto el trazado de rayos como la rasterización hacen un buen trabajo en eso. El sombreado, por otro lado, requiere resolver la visibilidad entre superficies. Se utiliza para calcular sombras, sombras suaves cuando se utilizan luces de área y, en general, efectos de iluminación global como reflexión, refracción, reflejos indirectos y difusa indirecta. Para esta parte particular del proceso de renderizado, el trazado de rayos es más eficiente que la rasterización. Pero tenga en cuenta que cualquier técnica que calcule la visibilidad entre puntos puede usarse para sombrear y resolver el problema de visibilidad. No tiene que ser ni trazado de rayos ni rasterización, pero el trazado de rayos es de alguna manera la forma perezosa de hacerlo, aunque tiene un precio, el costo computacional.</p><p>El trazado de rayos suena como un método mucho mejor que la rasterización cuando se mira de esa manera, aunque el problema principal con el trazado de rayos es que implica calcular la intersección de rayos con geometría, que es una operación costosa. En las aplicaciones de gráficos en tiempo real, la velocidad es más importante que el realismo fotográfico, razón por la cual las GPU utilizan la rasterización. Cuando el fotorrealismo es más importante que la velocidad, el trazado de rayos es una opción mucho mejor, aunque es más difícil producir imágenes con trazado de rayos a velocidades de cuadro interactivas y menos aún a velocidades de cuadro en tiempo real.
En resumen, el uso del trazado de rayos para calcular imágenes fotorrealistas de objetos 3D se puede descomponer esencialmente en tres pasos:</p><ul><li><strong>Proyección de rayos:</strong> proyecta un rayo para cada píxel de la imagen.</li><li><strong>Intersección Ray-Geometría:</strong> prueba si un rayo se cruza con alguno de los objetos en la escena (esto requiere hacer un bucle sobre todos los objetos para cada rayo emitido).</li><li><strong>Sombreado:</strong> averigua cómo se ve el punto de intersección entre el rayo y el objeto (si se ha producido una intersección).</li></ul><h2 id="x-aplicaciones-en-la-vida-real" class="heading-0-0-1"><span class="anchor-0-0-2" data-ignore-text=""><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span>X. APLICACIONES EN LA VIDA REAL</h2><p>El ray tracing produce resultados bastante vistosos pero cuya utilidad práctica no es del todo obvia. A continuación hablaremos de algunas de las aplicaciones prácticas del mismo:</p><h3 id="arquitectura" class="heading-0-0-1"><span class="anchor-0-0-2" data-ignore-text=""><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span>Arquitectura</h3><p>El lenguaje de descripción de escenas es sencillo y es fácil generar escenas automáticamente, haciendo uso de un programa que calcule las posiciones de los elementos de la obra o incluso importar escenas ya existentes a partir de formatos usados por programas de diseño populares como AutoCAD. Esto permite la creación de escenas que permitan previsualizar diseños de ingeniería o arquitectónicos con un acercamiento fidedigno del aspecto que tendrá un proyecto terminado, más aún cuando es importante que el resultado sea vistoso y de alta calidad. </p><marker><div style="text-align:center">
<img src="https://i.gyazo.com/04379d3eb14f8989ab80a1a5f68a7da1.png" alt="Markdown Monster icon" style="width: 100hv;margin-bottom: 1s0px">
</div>
<div style="text-align:center">
Caso práctico, comparación de dos tipos de acabados de características diversas.
</div>

</marker><p>Es extremadamente difícil producir efectos de iluminación realistas utilizando los métodos de renderizado tradicionales. Incluso muchos programas de diseño asistido por computadora (CAD) que modelan objetos con precisión no pueden modelar la luz.</p><p>Algunos programas de modelado incluso permiten a los arquitectos introducir luz en una imagen, especificando la ubicación, orientación, color y distribución de la luz. Estas características ayudan a los diseñadores a crear efectos como sombras y reflejos especulares, sin embargo, aún no logran modelar la realidad física de que los objetos interactúan con la luz. Para modelar con precisión el verdadero comportamiento de la luz en un entorno dado, debemos considerar toda la luz en ese entorno y reconocer que la luz real se refleja, refracta, difunde y absorbe.</p><p>Los arquitectos están interesados ​​principalmente en crear imágenes visualmente realistas. El trazado de rayos, combinado con técnicas de radiosidad, es a menudo el método más útil para el renderizado arquitectónico. Debido a que el modelado de la luz es tan esencial para el campo, el desarrollo de programas que incorporan el trazado de rayos ha sido un sueño hecho realidad para muchos arquitectos. La tecnología de iluminación global está logrando dar vida al diseño arquitectónico.</p><marker><div style="text-align:center">
<img src="https://cdn2.unrealengine.com/Unreal+Engine%2Ftech-blog%2Freal-time-ray-tracing-in-unreal-engine---part-2-architectural-visualization%2FNews_RayTracing_AEC_feature_image-1920x960-d09dd3f962953649881eff65d7809fbfc9aabeb0.jpg" alt="Markdown Monster icon" style="width: 100hv;margin-bottom: 1s0px">
</div>

</marker><h3 id="diseño-de-luz-en-teatro-y-televisión" class="heading-0-0-1"><span class="anchor-0-0-2" data-ignore-text=""><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span>Diseño de luz en teatro y televisión</h3><p>Debido a que el trazado de rayos permite un modelado visualmente realista de la luz, la tecnología se puede aplicar de manera útil en las áreas de iluminación de teatro y televisión. Sin la capacidad de modelar imágenes físicamente correctas, las configuraciones de iluminación del escenario pueden requerir cantidades extremas de esfuerzo. Muchas producciones teatrales y televisivas requieren cientos de luces individuales que deben posicionarse, orientarse y filtrarse. También es necesario que las luces se cambien, redirijan y atenúen mientras una producción está en curso. El trazado de rayos permite a los diseñadores de escenarios e iluminación, actores y directores desarrollar y visualizar configuraciones de iluminación complejas meses antes de que se abra una producción.</p><marker><div style="text-align:center">
<img src="https://cdn2.unrealengine.com/Unreal+Engine%2Ftech-blog%2Freal-time-ray-tracing-in-unreal-engine---part-2-architectural-visualization%2FNews_RayTracing_AEC_blog_body_SJB_img-1640x1000-52c0874cd0012adbc3827d097668b1f962281ff7.jpg" alt="Markdown Monster icon" style="width: 100hv;margin-bottom: 1s0px">
</div>

</marker><h3 id="herramienta-para-ingenieros" class="heading-0-0-1"><span class="anchor-0-0-2" data-ignore-text=""><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span>Herramienta para ingenieros</h3><p>El trazado de rayos es capaz de considerar toda la luz en un entorno determinado (denominado iluminación global). La iluminación global es un modelo físicamente correcto, que simula con precisión el comportamiento de la luz en un entorno físico real. Esto demuestra ser extremadamente útil para diseñadores de iluminación, investigadores de energía solar e ingenieros mecánicos. Pueden utilizar el trazado de rayos para hacer mucho más que renderizar imágenes fotorrealistas. Los ingenieros utilizan la tecnología para predecir los niveles de iluminación, los gradientes de luminancia y los criterios de rendimiento visual. La iluminación global es una valiosa herramienta de ingeniería ya que nos permite analizar cuantitativamente la distribución y direccionalidad de la luz e investigar la transferencia de calor radiante. Esto nos está ayudando a progresar en todo, desde la iluminación y la calefacción de habitaciones de manera más eficiente, hasta la creación de concentradores de energía solar para aplicaciones aeroespaciales.</p><h3 id="animación" class="heading-0-0-1"><span class="anchor-0-0-2" data-ignore-text=""><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span>Animación</h3><p>El trazado de rayos se puede utilizar para agregar efectos "sofisticados", como el reflejo y el sombreado, que a menudo son difíciles de producir y requieren mucho tiempo para los artistas tradicionales. La tecnología gráfica también es capaz de generar imágenes fotorrealistas que serían casi imposibles de producir sin el trazado de rayos computarizado.</p><p>Los ejemplos de gráficos por computadora y trazado de rayos en la animación moderna incluyen la reflexión avanzada, el sombreado y la especularidad.</p><marker><div style="text-align:center">
<img src="https://cdn.vox-cdn.com/thumbor/qHmvoA9FfZO16XkHoIrknaK6OLk=/55x0:964x606/920x613/filters:focal(55x0:964x606):format(webp)/cdn.vox-cdn.com/assets/2820241/monstersuseaurchin.jpg" alt="Markdown Monster icon" style="width: 100hv;margin-bottom: 1s0px">
</div>
<div style="text-align:center">
Escena de “Monsters University” primera película de Pixar donde usaron Ray Tracing
</div>

</marker><h3 id="videojuegos" class="heading-0-0-1"><span class="anchor-0-0-2" data-ignore-text=""><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span>Videojuegos</h3><p>El Ray Tracing en películas animadas es popular y suficiente porque no requiere de ser renderizado en tiempo real como lo es un videojuego. Estas se renderizan de manera independiente para formar un archivo multimedia que es reproducible en cualquier pantalla. Por otro lado, los videojuegos dependen de los componentes de una computadora en donde se estén usando, por eso su introducción al gaming es importante.</p><marker><div style="text-align:center">
<img src="https://www.pchardwarepro.com/wp-content/uploads/2019/03/ray_tracing.jpg" alt="Markdown Monster icon" style="width: 100hv;margin-bottom: 1s0px">
</div>

</marker><p>En la vida real las ondas formadas por innumerables pequeños fotones salen disparadas de una fuente de luz, rebotan a través de una variedad de superficies y luego te golpean directamente en los globos oculares. Luego, su cerebro interpreta todos estos diferentes rayos de luz como una imagen completa</p><marker><div style="text-align:center">
<img src="https://thetechrevolutionist.com/wp-content/uploads/2020/10/screen1.jpg" alt="Markdown Monster icon" style="width: 100hv;margin-bottom: 1s0px">
</div>

</marker><p>El trazado de rayos funciona casi de la misma manera, excepto que todo generalmente se mueve en la dirección opuesta. Dentro del software, la luz trazada por rayos comienza en el espectador (desde la lente de la cámara) y se mueve hacia afuera, trazando un camino que rebota a través de múltiples objetos, a veces incluso adquiriendo su color y propiedades reflectantes, hasta que el software determina la luz adecuada dependiendo de las fuentes que afectarían a ese rayo en particular. Esta técnica de simulación de la visión hacia atrás es mucho más eficiente para que la maneje una computadora que tratar de rastrear los rayos de la fuente de luz. Después de todo, los únicos caminos de luz que deben renderizarse son los que encajan en el campo de visión del usuario. Se necesita mucha menos potencia de cálculo para mostrar lo que está frente a usted que para representar los rayos emitidos por todas las fuentes de luz en una escena.</p><marker><div style="text-align:center">
<img src="https://www.masgamers.com/wp-content/uploads/2020/09/minecraftsdfds.jpg" alt="Markdown Monster icon" style="width: 100hv;margin-bottom: 1s0px">
</div>

</marker><h2 id="xii-referencias" class="heading-0-0-1"><span class="anchor-0-0-2" data-ignore-text=""><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span>XII. REFERENCIAS</h2><blockquote><p>Martin Christen,(2005). Ray tracing on GPU. url:<a href="https://www.geeknetic.es/Ray-Tracing/que-es-y-para-que-sirve">https://www.geeknetic.es/Ray-Tracing/que-es-y-para-que-sirve</a>.</p></blockquote><blockquote><p>Timothy J. Purcell, Ian Buck, William R. Mark, Pat Hanrahan.(2002). Ray Tracing on Programmable Graphics Hardware.</p></blockquote><blockquote><p>Scratchapixel. An Overview of the Ray-Tracing Rendering Technique. Referido de: <a href="https://www.scratchapixel.com/lessons/3d-basic-rendering/ray-tracing-overview">https://www.scratchapixel.com/lessons/3d-basic-rendering/ray-tracing-overview</a></p></blockquote><blockquote><p>ArchDaily. (23 Jul 2020). Real-Time Ray-Tracing is Changing Architectural Visualization. Referido de: <a href="https://www.archdaily.com/943676/real-time-ray-tracing-is-changing-architectural-visualization">https://www.archdaily.com/943676/real-time-ray-tracing-is-changing-architectural-visualization</a></p></blockquote><blockquote><p>Akrich Corradini, Gaston. (2020-10-19). Ray tracing: realidad virtual y su aplicación en la arquitectura. Referido de: <a href="https://upcommons.upc.edu/handle/2117/341552">https://upcommons.upc.edu/handle/2117/341552</a></p></blockquote><blockquote><p>Vlastimil, H., Bittner J., Zára J. (1998) Ray Tracing with Rope Trees. Referido de: <a href="https://www.researchgate.net/publication/2691301_Ray_Tracing_with_Rope_Trees">https://www.researchgate.net/publication/2691301_Ray_Tracing_with_Rope_Trees</a></p></blockquote><blockquote><p>Vlastimil, H., Kopal, T., Bittner J., Zára J. (1998) Fast Robust BSP Tree  Traversal Algorithm For Ray Tracing.  Referido de: <a href="https://researchgate.net/publication/242938069_Fast_Robust_Bsp_Tree_Traversal_Algorithm_For_Ray_Tracing">https://researchgate.net/publication/242938069_Fast_Robust_Bsp_Tree_Traversal_Algorithm_For_Ray_Tracing</a></p></blockquote><blockquote><p>Purcell, T., Buck, I., Mark, W., Hanrahan, P. (2002) Ray tracing on programmable graphics hardware. Referido de: <a href="https://graphics.stanford.edu/papers/rtongfx/rtongfx.pdfZ">https://graphics.stanford.edu/papers/rtongfx/rtongfx.pdfZ</a></p></blockquote><div class="contentnav-0-0-16" data-no-search=""><a href="#ray-tracing" class="h1" data-content-highlight="ray-tracing">Ray Tracing</a><a href="#i-introducción" class="h2" data-content-highlight="i-introducción">I. INTRODUCCIÓN</a><a href="#ii-historia" class="h2" data-content-highlight="ii-historia">II. HISTORIA</a><a href="#iii-descripción-detallada-del-algoritmo-del-ray-tracing" class="h2" data-content-highlight="iii-descripción-detallada-del-algoritmo-del-ray-tracing">III. DESCRIPCIÓN DETALLADA DEL ALGORITMO DEL RAY TRACING</a><a href="#versión-simplificada-de-lo-que-pasa-en-la-naturaleza" class="h3" data-content-highlight="versión-simplificada-de-lo-que-pasa-en-la-naturaleza">Versión simplificada de lo que pasa en la naturaleza</a><a href="#algoritmo-de-ray-casting" class="h3" data-content-highlight="algoritmo-de-ray-casting">Algoritmo de ray casting</a><a href="#algoritmo-de-ray-tracing-recursivo" class="h3" data-content-highlight="algoritmo-de-ray-tracing-recursivo">Algoritmo de ray tracing recursivo</a><a href="#iv-matemática-aplicada" class="h2" data-content-highlight="iv-matemática-aplicada">IV. MATEMÁTICA APLICADA</a><a href="#calcular-rayos-para-un-viewport-rectangular" class="h3" data-content-highlight="calcular-rayos-para-un-viewport-rectangular">Calcular rayos para un viewport rectangular:</a><a href="#v-formas-de--optimizar-el-ray-tracing" class="h2" data-content-highlight="v-formas-de--optimizar-el-ray-tracing">V. Formas de  optimizar el RAY TRACING</a><a href="#1---ray-tracing-with-rope-trees" class="h3" data-content-highlight="1---ray-tracing-with-rope-trees">1 - Ray Tracing with Rope Trees</a><a href="#autores" class="h4" data-content-highlight="autores">Autores</a><a href="#abstract" class="h4" data-content-highlight="abstract">Abstract</a><a href="#introducción" class="h4" data-content-highlight="introducción">Introducción</a><a href="#subdivisión-espacial-uniforme" class="h4" data-content-highlight="subdivisión-espacial-uniforme">Subdivisión espacial uniforme</a><a href="#árbol-de-partición-de-espacio-binario" class="h4" data-content-highlight="árbol-de-partición-de-espacio-binario">Árbol de partición de espacio binario</a><a href="#optimización-estadística-de-un-árbol-bsp" class="h4" data-content-highlight="optimización-estadística-de-un-árbol-bsp">Optimización estadística de un árbol BSP</a><a href="#cuerdas" class="h4" data-content-highlight="cuerdas">Cuerdas</a><a href="#algoritmo-de-construcción-de-cuerdas" class="h4" data-content-highlight="algoritmo-de-construcción-de-cuerdas">Algoritmo de construcción de cuerdas</a><a href="#árboles-de-cuerda" class="h4" data-content-highlight="árboles-de-cuerda">Árboles de cuerda</a><a href="#análisis-de-algoritmos" class="h4" data-content-highlight="análisis-de-algoritmos">Análisis de algoritmos</a><a href="#2--fast-robust-bsp-tree--traversal-algorithm-for-ray-tracing" class="h3" data-content-highlight="2--fast-robust-bsp-tree--traversal-algorithm-for-ray-tracing">2 -Fast Robust BSP Tree  Traversal Algorithm For Ray Tracing</a><a href="#autores-1" class="h4" data-content-highlight="autores-1">Autores</a><a href="#abstract-1" class="h4" data-content-highlight="abstract-1">Abstract</a><a href="#introducción-1" class="h4" data-content-highlight="introducción-1">Introducción</a><a href="#clasificación-transversal" class="h4" data-content-highlight="clasificación-transversal">Clasificación Transversal</a><a href="#propuesta-algoritmo" class="h4" data-content-highlight="propuesta-algoritmo">Propuesta algoritmo</a><a href="#resultados" class="h4" data-content-highlight="resultados">Resultados</a><a href="#vi-ray-tracing-en-gpu" class="h2" data-content-highlight="vi-ray-tracing-en-gpu">VI. Ray Tracing en GPU</a><a href="#creando-la-cuadrícula-uniforme" class="h3" data-content-highlight="creando-la-cuadrícula-uniforme">Creando la cuadrícula uniforme</a><a href="#atravesando-la-cuadrícula-uniforme" class="h3" data-content-highlight="atravesando-la-cuadrícula-uniforme">Atravesando la cuadrícula uniforme</a><a href="#removiendo-la-recursión" class="h3" data-content-highlight="removiendo-la-recursión">Removiendo la recursión</a><a href="#almacenamiento-de-la-escena-3d" class="h3" data-content-highlight="almacenamiento-de-la-escena-3d">Almacenamiento de la escena 3D</a><a href="#bucle-de-cruce-e-intersección-de-equilibrio-de-carga" class="h3" data-content-highlight="bucle-de-cruce-e-intersección-de-equilibrio-de-carga">Bucle de cruce e intersección de equilibrio de carga</a><a href="#vii-kernel-de-shading" class="h2" data-content-highlight="vii-kernel-de-shading">VII. Kernel de Shading</a><a href="#ray-caster" class="h3" data-content-highlight="ray-caster">Ray Caster</a><a href="#whitted-ray-tracer" class="h3" data-content-highlight="whitted-ray-tracer">Whitted Ray Tracer</a><a href="#path-tracer" class="h3" data-content-highlight="path-tracer">Path Tracer</a><a href="#shadow-caster" class="h3" data-content-highlight="shadow-caster">Shadow Caster</a><a href="#viii-programmable-graphics-hardware" class="h2" data-content-highlight="viii-programmable-graphics-hardware">VIII. PROGRAMMABLE GRAPHICS HARDWARE</a><a href="#el-flujo-actual-de-gráficos-programables" class="h3" data-content-highlight="el-flujo-actual-de-gráficos-programables">El flujo actual de gráficos programables:</a><a href="#el-flujo-propuesto-de-gráficos-programables-a-un-término-cercano" class="h3" data-content-highlight="el-flujo-propuesto-de-gráficos-programables-a-un-término-cercano">El flujo propuesto de gráficos programables a un término cercano:</a><a href="#ix-posible-implementación" class="h2" data-content-highlight="ix-posible-implementación">IX. POSIBLE IMPLEMENTACIÓN</a><a href="#x-aplicaciones-en-la-vida-real" class="h2" data-content-highlight="x-aplicaciones-en-la-vida-real">X. APLICACIONES EN LA VIDA REAL</a><a href="#arquitectura" class="h3" data-content-highlight="arquitectura">Arquitectura</a><a href="#diseño-de-luz-en-teatro-y-televisión" class="h3" data-content-highlight="diseño-de-luz-en-teatro-y-televisión">Diseño de luz en teatro y televisión</a><a href="#herramienta-para-ingenieros" class="h3" data-content-highlight="herramienta-para-ingenieros">Herramienta para ingenieros</a><a href="#animación" class="h3" data-content-highlight="animación">Animación</a><a href="#videojuegos" class="h3" data-content-highlight="videojuegos">Videojuegos</a><a href="#xii-referencias" class="h2" data-content-highlight="xii-referencias">XII. REFERENCIAS</a></div></div><div id="-codedoc-toc" class="toc-0-0-13"><div class="content-0-0-14"><p><a href="/vc/">Home</a></p><div class="collapse-0-0-9 "><script id="haZJejpjTs">(function(){function load(){if (window.__sdh_transport){window.__sdh_transport("haZJejpjTs", "lqlJyab6eRMclBlk8Ftb8g==", {});} }; if (document.readyState == 'complete') load(); else window.addEventListener('load', load); })()</script><div class="label" onclick="this.parentElement.classList.toggle('open')"><span class="text">Workshops</span><span class="icon-font closed">chevron_right</span></div><div class="content"><div class="collapse-0-0-9 "><script id="ddkUEUpsZd">(function(){function load(){if (window.__sdh_transport){window.__sdh_transport("ddkUEUpsZd", "lqlJyab6eRMclBlk8Ftb8g==", {});} }; if (document.readyState == 'complete') load(); else window.addEventListener('load', load); })()</script><div class="label" onclick="this.parentElement.classList.toggle('open')"><span class="text">Imaging &amp; Video</span><span class="icon-font closed">chevron_right</span></div><div class="content"><p><a href="/vc/docs/workshops/imaging">Problem Statement and Background</a>
<a href="/vc/docs/workshops/imaging-software">Imaging &amp; Video - Software</a>
<a href="/vc/docs/workshops/imaging-hardware">Imaging &amp; Video - Hardware</a></p></div></div><div class="collapse-0-0-9 "><script id="vmCjBxdWmE">(function(){function load(){if (window.__sdh_transport){window.__sdh_transport("vmCjBxdWmE", "lqlJyab6eRMclBlk8Ftb8g==", {});} }; if (document.readyState == 'complete') load(); else window.addEventListener('load', load); })()</script><div class="label" onclick="this.parentElement.classList.toggle('open')"><span class="text">Rendering</span><span class="icon-font closed">chevron_right</span></div><div class="content"><p><a href="/vc/docs/workshops/rendering">Problem Statement and Background</a>
<a href="/vc/docs/workshops/ray-tracing">Ray Tracing</a></p></div></div><p><a href="/vc/docs/workshops/algovis">Algovis</a>
<a href="/vc/docs/workshops/cg">Computer Graphics</a>
<a href="/vc/docs/workshops/hci">HCI</a></p></div></div><div class="collapse-0-0-9 "><script id="VtBNDzJWpe">(function(){function load(){if (window.__sdh_transport){window.__sdh_transport("VtBNDzJWpe", "lqlJyab6eRMclBlk8Ftb8g==", {});} }; if (document.readyState == 'complete') load(); else window.addEventListener('load', load); })()</script><div class="label" onclick="this.parentElement.classList.toggle('open')"><span class="text">P5 Code Snippets</span><span class="icon-font closed">chevron_right</span></div><div class="content"><p><a href="/vc/docs/snippets/component">P5 Component</a>
<a href="/vc/docs/snippets/basic">Basics</a>
<a href="/vc/docs/snippets/video-dom">Video on dom</a>
<a href="/vc/docs/snippets/video-canvas">Video on canvas</a>
<a href="/vc/docs/snippets/3d">3D</a>
<a href="/vc/docs/snippets/lib">Libs</a>
<a href="/vc/docs/snippets/sound">Sound</a></p></div></div><div class="collapse-0-0-9 "><script id="CIXrRDZaaV">(function(){function load(){if (window.__sdh_transport){window.__sdh_transport("CIXrRDZaaV", "lqlJyab6eRMclBlk8Ftb8g==", {});} }; if (document.readyState == 'complete') load(); else window.addEventListener('load', load); })()</script><div class="label" onclick="this.parentElement.classList.toggle('open')"><span class="text">Team</span><span class="icon-font closed">chevron_right</span></div><div class="content"><p><a href="/vc/docs/team/acastillos">acastillos</a>
<a href="/vc/docs/team/sapinedave">sapinedave</a>
<a href="/vc/docs/team/jestupinanb">jestupinanb</a>
<a href="/vc/docs/team/jpbetancourtma">jpbetancourtma</a></p></div></div></div><div class="search-0-0-15"><script id="sliQqATKdh">(function(){function load(){if (window.__sdh_transport){window.__sdh_transport("sliQqATKdh", "MChpnTvN8BpuKyiMGzmSYw==", {"repo":"vc","user":"visualcomputing","root":"docs/md","pick":"\\.md$","drop":"(^_)|(\\/_)"});} }; if (document.readyState == 'complete') load(); else window.addEventListener('load', load); })()</script></div></div><div class="footer-0-0-12"><div class="left"><script id="URhHBSxmfx">(function(){function load(){if (window.__sdh_transport){window.__sdh_transport("URhHBSxmfx", "X5W7He+ge/Kg3B6xB+T5gg==", {});} }; if (document.readyState == 'complete') load(); else window.addEventListener('load', load); })()</script></div><div class="main"><div class="inside"><a href="https://github.com/visualcomputing/vc/" target="_blank">GitHub</a></div></div><div class="right"><script id="VtvMDfqyeO">(function(){function load(){if (window.__sdh_transport){window.__sdh_transport("VtvMDfqyeO", "3ehN2Qj7wHC4donAKEDe0Q==", {});} }; if (document.readyState == 'complete') load(); else window.addEventListener('load', load); })()</script></div></div><script id="gvGPDNdzui">(function(){function load(){if (window.__sdh_transport){window.__sdh_transport("gvGPDNdzui", "bIAidu6MCPVPBcGGWLCR6Q==", {"namespace":"/vc"});} }; if (document.readyState == 'complete') load(); else window.addEventListener('load', load); })()</script></body></html>